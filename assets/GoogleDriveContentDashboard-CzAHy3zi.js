import{d as T,r as u,o as j,I as g,M as l,a5 as e,f as t,P as h,a7 as a,a2 as r,N as c,a4 as _,a9 as Q,F as $,R as p,a3 as d,a6 as f,$ as U,ae as H,J as i,K,aj as W,ar as J,aC as z}from"./index-CvPvUhNI.js";import{Q as A}from"./QBanner-B6GfX89z.js";import{Q as X}from"./QSpace-fv37HLto.js";import{Q as Y,a as C,b as y}from"./QItem-CgZWTmks.js";import{Q as Z}from"./QList-CHUIHOpF.js";import{Q as k}from"./QExpansionItem-D5CnbcoE.js";import{Q as ee}from"./QPage-BJJNKmx3.js";import{C as te}from"./ClosePopup-D0b8teNA.js";import{u as se}from"./use-quasar-vJYE3-ml.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QSlideTransition-hOnyKnX3.js";const ne={class:"row justify-center"},oe={class:"col-12 col-lg-10"},re={class:"text-h4 q-mb-md text-center"},ae={class:"text-h6 q-mb-md"},ie={class:"row q-gutter-md"},de={class:"text-subtitle2"},ue={class:"text-caption text-grey-7"},ce={class:"text-caption text-grey-6 q-mt-xs"},fe={class:"q-gutter-sm text-center"},me={class:"text-h6"},ge={key:0,class:"text-center q-pa-lg text-grey-6"},pe={key:1},_e={class:"text-body2 q-mb-md"},he={class:"q-gutter-xs"},ve={class:"text-h6 q-mb-md"},be=T({__name:"GoogleDriveContentDashboard",setup(xe){const P=se(),w=u(!1),S=u(null),v=u(null),F=u(null),V=u({}),q=u(!1),B=u(null),b=u([]);j(()=>{v.value="Google API key not configured in environment variables"});const N=async()=>{},G=async()=>{},L=async(s,n)=>{},D=s=>{s.webViewLink&&window.open(s.webViewLink,"_blank")},M=s=>{P.dialog({title:"File Information",message:`
      <strong>Name:</strong> ${s.name}<br>
      <strong>Type:</strong> ${I(s.mimeType)}<br>
      <strong>Created:</strong> ${x(s.createdTime)}<br>
      <strong>Modified:</strong> ${x(s.modifiedTime)}<br>
      ${s.size?`<strong>Size:</strong> ${R(s.size)}<br>`:""}
      <strong>ID:</strong> ${s.id}
    `,html:!0})},O=s=>s.includes("pdf")?"picture_as_pdf":s.includes("image")?"image":s.includes("video")?"movie":s.includes("folder")?"folder":s.includes("document")?"description":s.includes("spreadsheet")?"table_chart":s.includes("presentation")?"slideshow":"insert_drive_file",E=s=>s.includes("pdf")?"red":s.includes("image")?"purple":s.includes("video")?"indigo":s.includes("folder")?"orange":s.includes("document")?"blue":s.includes("spreadsheet")?"green":"grey",I=s=>s.includes("pdf")?"PDF Document":s.includes("image")?"Image":s.includes("video")?"Video":s.includes("document")?"Document":s.includes("spreadsheet")?"Spreadsheet":s.includes("presentation")?"Presentation":"File",x=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=s=>{const n=parseInt(s);return n<1024?`${n} B`:n<1024*1024?`${(n/1024).toFixed(1)} KB`:n<1024*1024*1024?`${(n/(1024*1024)).toFixed(1)} MB`:`${(n/(1024*1024*1024)).toFixed(1)} GB`};return(s,n)=>(i(),g(ee,{class:"q-pa-lg"},{default:l(()=>[e("div",ne,[e("div",oe,[t(f,null,{default:l(()=>[t(a,null,{default:l(()=>[e("div",re,[t(c,{name:"cloud",class:"q-mr-sm",color:"primary"}),n[1]||(n[1]=r(" Conashaugh Courier Content Management ",-1))]),n[2]||(n[2]=e("p",{class:"text-body1 text-center text-grey-7 q-mb-lg"}," Direct access to publicly shared Google Drive content without authentication. This system demonstrates how to access newsletter issues, images, and templates from the Conashaugh Courier's Google Drive folders. ",-1))]),_:1,__:[2]}),t(a,null,{default:l(()=>[e("div",ae,[t(c,{name:"dashboard",class:"q-mr-sm"}),n[3]||(n[3]=r(" Content Folders Status ",-1))]),e("div",ie,[(i(!0),_($,null,Q(V.value,(o,m)=>(i(),_("div",{key:m,class:"col-12 col-sm-6 col-md-3"},[t(f,{flat:"",bordered:"",class:K(o.accessible?"bg-green-1":"bg-red-1")},{default:l(()=>[t(a,{class:"text-center"},{default:l(()=>[t(c,{name:o.accessible?"check_circle":"error",color:o.accessible?"green":"red",size:"2rem",class:"q-mb-sm"},null,8,["name","color"]),e("div",de,d(m),1),e("div",ue,d(o.accessible?"Available":"Private"),1),e("div",ce,d(o.fileCount||0)+" files ",1)]),_:2},1024),o.accessible?(i(),g(W,{key:0,align:"center"},{default:l(()=>[t(p,{size:"sm",color:"primary",label:"Browse",onClick:Ce=>L(m,o.folderId),loading:S.value===o.folderId},null,8,["onClick","loading"])]),_:2},1024)):h("",!0)]),_:2},1032,["class"])]))),128))])]),_:1}),t(a,null,{default:l(()=>[e("div",fe,[t(p,{color:"primary",label:"Refresh All Content",onClick:N,loading:w.value,icon:"refresh",size:"md"},null,8,["loading"]),t(p,{color:"secondary",label:"Test Configuration",onClick:G,loading:w.value,icon:"settings",outline:""},null,8,["loading"])])]),_:1}),v.value?(i(),g(a,{key:0},{default:l(()=>[t(A,{class:"bg-negative text-white",rounded:""},{avatar:l(()=>[t(c,{name:"error"})]),default:l(()=>[n[4]||(n[4]=e("div",{class:"text-subtitle2"},"Error",-1)),r(" "+d(v.value),1)]),_:1,__:[4]})]),_:1})):h("",!0),F.value?(i(),g(a,{key:1},{default:l(()=>[t(A,{class:"bg-positive text-white",rounded:""},{avatar:l(()=>[t(c,{name:"check_circle"})]),default:l(()=>[r(" "+d(F.value),1)]),_:1})]),_:1})):h("",!0)]),_:1}),t(H,{modelValue:q.value,"onUpdate:modelValue":n[0]||(n[0]=o=>q.value=o),maximized:""},{default:l(()=>[t(f,null,{default:l(()=>[t(a,{class:"row items-center q-pb-none"},{default:l(()=>[e("div",me,d(B.value?.name)+" Contents",1),t(X),U(t(p,{icon:"close",flat:"",round:"",dense:""},null,512),[[te]])]),_:1}),t(a,null,{default:l(()=>[b.value.length===0?(i(),_("div",ge,[t(c,{name:"folder_open",size:"4rem",class:"q-mb-md"}),n[5]||(n[5]=e("div",{class:"text-h6"},"No files found",-1)),n[6]||(n[6]=e("div",{class:"text-body2"},"This folder appears to be empty or private.",-1))])):(i(),_("div",pe,[e("div",_e," Found "+d(b.value.length)+" files in this folder ",1),t(Z,{bordered:"",separator:""},{default:l(()=>[(i(!0),_($,null,Q(b.value,o=>(i(),g(Y,{key:o.id,clickable:"",onClick:m=>D(o)},{default:l(()=>[t(C,{avatar:""},{default:l(()=>[t(J,{icon:O(o.mimeType),color:E(o.mimeType),"text-color":"white"},null,8,["icon","color"])]),_:2},1024),t(C,null,{default:l(()=>[t(y,null,{default:l(()=>[r(d(o.name),1)]),_:2},1024),t(y,{caption:""},{default:l(()=>[r(d(I(o.mimeType)),1)]),_:2},1024),t(y,{caption:""},{default:l(()=>[r(" Modified: "+d(x(o.modifiedTime)),1)]),_:2},1024)]),_:2},1024),t(C,{side:""},{default:l(()=>[e("div",he,[o.webViewLink?(i(),g(p,{key:0,size:"sm",color:"primary",icon:"open_in_new",label:"View",onClick:z(m=>D(o),["stop"])},null,8,["onClick"])):h("",!0),t(p,{size:"sm",color:"secondary",icon:"info",onClick:z(m=>M(o),["stop"])},null,8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(f,{class:"q-mt-lg"},{default:l(()=>[t(a,null,{default:l(()=>[e("div",ve,[t(c,{name:"info",class:"q-mr-sm"}),n[7]||(n[7]=r(" How This Works ",-1))]),t(k,{icon:"security",label:"No Authentication Required","header-class":"text-primary"},{default:l(()=>[t(f,null,{default:l(()=>[t(a,null,{default:l(()=>n[8]||(n[8]=[e("p",null,[r(" This system uses "),e("strong",null,"public folder access"),r(" instead of OAuth authentication. Users don't need to sign in or grant permissions because we're accessing publicly shared Google Drive folders directly. ")],-1),e("ul",null,[e("li",null,'✅ No "sign in with Google" popups'),e("li",null,"✅ No permission requests"),e("li",null,"✅ Works for all users immediately"),e("li",null,"✅ Fast and reliable")],-1)])),_:1,__:[8]})]),_:1})]),_:1}),t(k,{icon:"api",label:"Direct API Access","header-class":"text-primary"},{default:l(()=>[t(f,null,{default:l(()=>[t(a,null,{default:l(()=>n[9]||(n[9]=[e("p",null," The system uses the Google Drive API v3 with just an API key to access publicly shared folders. This approach is: ",-1),e("ul",null,[e("li",null,[e("strong",null,"Simple:"),r(" Only requires an API key, no OAuth setup")]),e("li",null,[e("strong",null,"Fast:"),r(" Direct HTTP requests, no authentication overhead")]),e("li",null,[e("strong",null,"Reliable:"),r(" No token expiration or refresh issues")]),e("li",null,[e("strong",null,"Secure:"),r(" Only accesses explicitly shared content")])],-1)])),_:1,__:[9]})]),_:1})]),_:1}),t(k,{icon:"folder",label:"Content Organization","header-class":"text-primary"},{default:l(()=>[t(f,null,{default:l(()=>[t(a,null,{default:l(()=>n[10]||(n[10]=[e("p",null,"Content is organized into dedicated folders:",-1),e("ul",null,[e("li",null,[e("strong",null,"Issues Folder:"),r(" Newsletter PDFs and archives")]),e("li",null,[e("strong",null,"Images Folder:"),r(" Photos, graphics, and media")]),e("li",null,[e("strong",null,"Templates Folder:"),r(" Design templates and layouts")]),e("li",null,[e("strong",null,"Content Folder:"),r(" General articles and documents")])],-1),e("p",{class:"q-mt-md"}," Each folder can be managed independently, with different access levels and sharing settings as needed. ",-1)])),_:1,__:[10]})]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1}))}}),Pe=le(be,[["__scopeId","data-v-0ab7489c"]]);export{Pe as default};
