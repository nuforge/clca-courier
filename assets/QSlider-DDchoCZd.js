import{k as ae,x as ne,h as u,an as De,b6 as Qe,S as He,U as ge,V as Ke,b7 as he,g as le,W as ke,r as _,af as Ye,Y as Ge,c as n,w as D,b8 as Ue,ab as ve,$ as We,ai as Xe,n as Ze,N as me,au as xe,aM as Je,b9 as et,ba as ee,aZ as tt,bb as at,a0 as nt,bc as lt}from"./index-B-zpEeKy.js";import{Q as rt,b as be,a as te}from"./QItem-Dvqzx79e.js";import{T as ot}from"./TouchPan-I4qSe6OE.js";import{b as P}from"./format-BvkBI9bc.js";const it=ae({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:T,emit:L}){let i=!1,t,v,x=null,s=null,y,I;function g(){t?.(),t=null,i=!1,x!==null&&(clearTimeout(x),x=null),s!==null&&(clearTimeout(s),s=null),v?.removeEventListener("transitionend",y),y=null}function h(o,m,f){m!==void 0&&(o.style.height=`${m}px`),o.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,i=!0,t=f}function S(o,m){o.style.overflowY=null,o.style.height=null,o.style.transition=null,g(),m!==I&&L(m)}function w(o,m){let f=0;v=o,i===!0?(g(),f=o.offsetHeight===o.scrollHeight?0:void 0):(I="hide",o.style.overflowY="hidden"),h(o,f,m),x=setTimeout(()=>{x=null,o.style.height=`${o.scrollHeight}px`,y=k=>{s=null,(Object(k)!==k||k.target===o)&&S(o,"show")},o.addEventListener("transitionend",y),s=setTimeout(y,e.duration*1.1)},100)}function p(o,m){let f;v=o,i===!0?g():(I="show",o.style.overflowY="hidden",f=o.scrollHeight),h(o,f,m),x=setTimeout(()=>{x=null,o.style.height=0,y=k=>{s=null,(Object(k)!==k||k.target===o)&&S(o,"hide")},o.addEventListener("transitionend",y),s=setTimeout(y,e.duration*1.1)},100)}return ne(()=>{i===!0&&g()}),()=>u(De,{css:!1,appear:e.appear,onEnter:w,onLeave:p},T.default)}}),A=Qe({}),ut=Object.keys(he),xt=ae({name:"QExpansionItem",props:{...he,...Ke,...ge,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...He,"click","afterShow","afterHide"],setup(e,{slots:T,emit:L}){const{proxy:{$q:i}}=le(),t=ke(e,i),v=_(e.modelValue!==null?e.modelValue:e.defaultOpened),x=_(null),s=Ye(),{show:y,hide:I,toggle:g}=Ge({showing:v});let h,S;const w=n(()=>`q-expansion-item q-item-type q-expansion-item--${v.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),p=n(()=>e.contentInsetLevel===void 0?null:{["padding"+(i.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),o=n(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),m=n(()=>{const l={};return ut.forEach($=>{l[$]=e[$]}),l}),f=n(()=>o.value===!0||e.expandIconToggle!==!0),k=n(()=>e.expandedIcon!==void 0&&v.value===!0?e.expandedIcon:e.expandIcon||i.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),b=n(()=>e.disable!==!0&&(o.value===!0||e.expandIconToggle===!0)),q=n(()=>({expanded:v.value===!0,detailsId:s.value,toggle:g,show:y,hide:I})),M=n(()=>{const l=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:i.lang.label[v.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":v.value===!0?"true":"false","aria-controls":s.value,"aria-label":l}});D(()=>e.group,l=>{S?.(),l!==void 0&&R()});function Q(l){o.value!==!0&&g(l),L("click",l)}function N(l){l.keyCode===13&&V(l,!0)}function V(l,$){$!==!0&&l.qAvoidFocus!==!0&&x.value?.focus(),g(l),xe(l)}function F(){L("afterShow")}function z(){L("afterHide")}function R(){h===void 0&&(h=Ue()),v.value===!0&&(A[e.group]=h);const l=D(v,E=>{E===!0?A[e.group]=h:A[e.group]===h&&delete A[e.group]}),$=D(()=>A[e.group],(E,G)=>{G===h&&E!==void 0&&E!==h&&I()});S=()=>{l(),$(),A[e.group]===h&&delete A[e.group],S=void 0}}function O(){const l={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},$=[u(me,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&v.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:k.value})];return b.value===!0&&(Object.assign(l,{tabindex:0,...M.value,onClick:V,onKeyup:N}),$.unshift(u("div",{ref:x,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),u(te,l,()=>$)}function H(){let l;return T.header!==void 0?l=[].concat(T.header(q.value)):(l=[u(te,()=>[u(be,{lines:e.labelLines},()=>e.label||""),e.caption?u(be,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&l[e.switchToggleSide===!0?"push":"unshift"](u(te,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>u(me,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&l[e.switchToggleSide===!0?"unshift":"push"](O()),l}function j(){const l={ref:"item",style:e.headerStyle,class:e.headerClass,dark:t.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return f.value===!0&&(l.clickable=!0,l.onClick=Q,Object.assign(l,o.value===!0?m.value:M.value)),u(rt,l,H)}function K(){return We(u("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:p.value,id:s.value},Ze(T.default)),[[Xe,v.value]])}function Y(){const l=[j(),u(it,{duration:e.duration,onShow:F,onHide:z},K)];return e.expandSeparator===!0&&l.push(u(ve,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:t.value}),u(ve,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:t.value})),l}return e.group!==void 0&&R(),ne(()=>{S?.()}),()=>u("div",{class:w.value},[u("div",{class:"q-expansion-item__container relative-position"},Y())])}}),fe="q-slider__marker-labels",st=e=>({value:e}),ct=({marker:e})=>u("div",{key:e.value,style:e.style,class:e.classes},e.label),Se=[34,37,40,33,39,38],dt={...ge,...Je,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},vt=["pan","update:modelValue","change"];function mt({updateValue:e,updatePosition:T,getDragging:L,formAttrs:i}){const{props:t,emit:v,slots:x,proxy:{$q:s}}=le(),y=ke(t,s),I=at(i),g=_(!1),h=_(!1),S=_(!1),w=_(!1),p=n(()=>t.vertical===!0?"--v":"--h"),o=n(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),m=n(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(s.lang.rtl===!0)),f=n(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),k=n(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),b=n(()=>t.disable!==!0&&t.readonly!==!0&&f.value<k.value),q=n(()=>{if(t.step===0)return r=>r;const a=(String(t.step).trim().split(".")[1]||"").length;return r=>parseFloat(r.toFixed(a))}),M=n(()=>t.step===0?1:t.step),Q=n(()=>b.value===!0?t.tabindex||0:-1),N=n(()=>t.max-t.min),V=n(()=>k.value-f.value),F=n(()=>U(f.value)),z=n(()=>U(k.value)),R=n(()=>t.vertical===!0?m.value===!0?"bottom":"top":m.value===!0?"right":"left"),O=n(()=>t.vertical===!0?"height":"width"),H=n(()=>t.vertical===!0?"width":"height"),j=n(()=>t.vertical===!0?"vertical":"horizontal"),K=n(()=>{const a={role:"slider","aria-valuemin":f.value,"aria-valuemax":k.value,"aria-orientation":j.value,"data-step":t.step};return t.disable===!0?a["aria-disabled"]="true":t.readonly===!0&&(a["aria-readonly"]="true"),a}),Y=n(()=>`q-slider q-slider${p.value} q-slider--${g.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(b.value===!0?" q-slider--editable":""))+(S.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(y.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function l(a){const r="q-slider__"+a;return`${r} ${r}${p.value} ${r}${p.value}${o.value}`}function $(a){const r="q-slider__"+a;return`${r} ${r}${p.value}`}const E=n(()=>{const a=t.selectionColor||t.color;return"q-slider__selection absolute"+(a!==void 0?` text-${a}`:"")}),G=n(()=>$("markers")+" absolute overflow-hidden"),Ce=n(()=>$("track-container")),ye=n(()=>l("pin")),pe=n(()=>l("label")),Te=n(()=>l("text-container")),$e=n(()=>l("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),Le=n(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),Ie=n(()=>{const a={[H.value]:t.trackSize};return t.trackImg!==void 0&&(a.backgroundImage=`url(${t.trackImg}) !important`),a}),we=n(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),re=n(()=>{const a=z.value-F.value,r={[R.value]:`${100*F.value}%`,[O.value]:a===0?"2px":`${100*a}%`};return t.innerTrackImg!==void 0&&(r.backgroundImage=`url(${t.innerTrackImg}) !important`),r});function qe(a){const{min:r,max:c,step:d}=t;let C=r+a*(c-r);if(d>0){const B=(C-f.value)%d;C+=(Math.abs(B)>=d/2?(B<0?-1:1)*d:0)-B}return C=q.value(C),P(C,f.value,k.value)}function U(a){return N.value===0?0:(a-t.min)/N.value}function Me(a,r){const c=tt(a),d=t.vertical===!0?P((c.top-r.top)/r.height,0,1):P((c.left-r.left)/r.width,0,1);return P(m.value===!0?1-d:d,F.value,z.value)}const oe=n(()=>et(t.markers)===!0?t.markers:M.value),ie=n(()=>{const a=[],r=oe.value,c=t.max;let d=t.min;do a.push(d),d+=r;while(d<c);return a.push(c),a}),ue=n(()=>{const a=` ${fe}${p.value}-`;return fe+`${a}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${a}${m.value===!0?"rtl":"ltr"}`}),W=n(()=>t.markerLabels===!1?null:Be(t.markerLabels).map((a,r)=>({index:r,value:a.value,label:a.label||a.value,classes:ue.value+(a.classes!==void 0?" "+a.classes:""),style:{...ce(a.value),...a.style||{}}}))),se=n(()=>({markerList:W.value,markerMap:Re.value,classes:ue.value,getStyle:ce})),_e=n(()=>{const a=V.value===0?"2px":100*oe.value/V.value;return{...re.value,backgroundSize:t.vertical===!0?`2px ${a}%`:`${a}% 2px`}});function Be(a){if(a===!1)return null;if(a===!0)return ie.value.map(st);if(typeof a=="function")return ie.value.map(c=>{const d=a(c);return ee(d)===!0?{...d,value:c}:{value:c,label:d}});const r=({value:c})=>c>=t.min&&c<=t.max;return Array.isArray(a)===!0?a.map(c=>ee(c)===!0?c:{value:c}).filter(r):Object.keys(a).map(c=>{const d=a[c],C=Number(c);return ee(d)===!0?{...d,value:C}:{value:C,label:d}}).filter(r)}function ce(a){return{[R.value]:`${100*(a-t.min)/N.value}%`}}const Re=n(()=>{if(t.markerLabels===!1)return null;const a={};return W.value.forEach(r=>{a[r.value]=r}),a});function Ae(){if(x["marker-label-group"]!==void 0)return x["marker-label-group"](se.value);const a=x["marker-label"]||ct;return W.value.map(r=>a({marker:r,...se.value}))}const Ne=n(()=>[[ot,Fe,void 0,{[j.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Fe(a){a.isFinal===!0?(w.value!==void 0&&(T(a.evt),a.touch===!0&&e(!0),w.value=void 0,v("pan","end")),g.value=!1,S.value=!1):a.isFirst===!0?(w.value=L(a.evt),T(a.evt),e(),g.value=!0,v("pan","start")):(T(a.evt),e())}function de(){S.value=!1}function Ee(a){T(a,L(a)),e(),h.value=!0,g.value=!0,document.addEventListener("mouseup",X,!0)}function X(){h.value=!1,g.value=!1,e(!0),de(),document.removeEventListener("mouseup",X,!0)}function Pe(a){T(a,L(a)),e(!0)}function Ve(a){Se.includes(a.keyCode)&&e(!0)}function ze(a){if(t.vertical===!0)return null;const r=s.lang.rtl!==t.reverse?1-a:a;return{transform:`translateX(calc(${2*r-1} * ${t.thumbSize} / 2 + ${50-100*r}%))`}}function Oe(a){const r=n(()=>h.value===!1&&(S.value===a.focusValue||S.value==="both")?" q-slider--focus":""),c=n(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${m.value===!0?"rtl":"ltr"} absolute non-selectable`+r.value+(a.thumbColor.value!==void 0?` text-${a.thumbColor.value}`:"")),d=n(()=>({width:t.thumbSize,height:t.thumbSize,[R.value]:`${100*a.ratio.value}%`,zIndex:S.value===a.focusValue?2:void 0})),C=n(()=>a.labelColor.value!==void 0?` text-${a.labelColor.value}`:""),B=n(()=>ze(a.ratio.value)),Z=n(()=>"q-slider__text"+(a.labelTextColor.value!==void 0?` text-${a.labelTextColor.value}`:""));return()=>{const J=[u("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[u("path",{d:t.thumbPath})]),u("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(J.push(u("div",{class:ye.value+" absolute fit no-pointer-events"+C.value},[u("div",{class:pe.value,style:{minWidth:t.thumbSize}},[u("div",{class:Te.value,style:B.value},[u("span",{class:Z.value},a.label.value)])])])),t.name!==void 0&&t.disable!==!0&&I(J,"push")),u("div",{class:c.value,style:d.value,...a.getNodeData()},J)}}function je(a,r,c,d){const C=[];t.innerTrackColor!=="transparent"&&C.push(u("div",{key:"inner",class:we.value,style:re.value})),t.selectionColor!=="transparent"&&C.push(u("div",{key:"selection",class:E.value,style:a.value})),t.markers!==!1&&C.push(u("div",{key:"marker",class:G.value,style:_e.value})),d(C);const B=[nt("div",{key:"trackC",class:Ce.value,tabindex:r.value,...c.value},[u("div",{class:Le.value,style:Ie.value},C)],"slide",b.value,()=>Ne.value)];if(t.markerLabels!==!1){const Z=t.switchMarkerLabelsSide===!0?"unshift":"push";B[Z](u("div",{key:"markerL",class:$e.value},Ae()))}return B}return ne(()=>{document.removeEventListener("mouseup",X,!0)}),{state:{active:g,focus:S,preventFocus:h,dragging:w,editable:b,classes:Y,tabindex:Q,attributes:K,roundValueFn:q,keyStep:M,trackLen:N,innerMin:f,innerMinRatio:F,innerMax:k,innerMaxRatio:z,positionProp:R,sizeProp:O,isReversed:m},methods:{onActivate:Ee,onMobileClick:Pe,onBlur:de,onKeyup:Ve,getContent:je,getThumbRenderFn:Oe,convertRatioToModel:qe,convertModelToRatio:U,getDraggingRatio:Me}}}const bt=()=>({}),St=ae({name:"QSlider",props:{...dt,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:vt,setup(e,{emit:T}){const{proxy:{$q:L}}=le(),{state:i,methods:t}=mt({updateValue:p,updatePosition:m,getDragging:o,formAttrs:lt(e)}),v=_(null),x=_(0),s=_(0);function y(){s.value=e.modelValue===null?i.innerMin.value:P(e.modelValue,i.innerMin.value,i.innerMax.value)}D(()=>`${e.modelValue}|${i.innerMin.value}|${i.innerMax.value}`,y),y();const I=n(()=>t.convertModelToRatio(s.value)),g=n(()=>i.active.value===!0?x.value:I.value),h=n(()=>{const b={[i.positionProp.value]:`${100*i.innerMinRatio.value}%`,[i.sizeProp.value]:`${100*(g.value-i.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(b.backgroundImage=`url(${e.selectionImg}) !important`),b}),S=t.getThumbRenderFn({focusValue:!0,getNodeData:bt,ratio:g,label:n(()=>e.labelValue!==void 0?e.labelValue:s.value),thumbColor:n(()=>e.thumbColor||e.color),labelColor:n(()=>e.labelColor),labelTextColor:n(()=>e.labelTextColor)}),w=n(()=>i.editable.value!==!0?{}:L.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:f,onBlur:t.onBlur,onKeydown:k,onKeyup:t.onKeyup});function p(b){s.value!==e.modelValue&&T("update:modelValue",s.value),b===!0&&T("change",s.value)}function o(){return v.value.getBoundingClientRect()}function m(b,q=i.dragging.value){const M=t.getDraggingRatio(b,q);s.value=t.convertRatioToModel(M),x.value=e.snap!==!0||e.step===0?M:t.convertModelToRatio(s.value)}function f(){i.focus.value=!0}function k(b){if(Se.includes(b.keyCode)===!1)return;xe(b);const q=([34,33].includes(b.keyCode)?10:1)*i.keyStep.value,M=([34,37,40].includes(b.keyCode)?-1:1)*(i.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*q;s.value=P(i.roundValueFn.value(s.value+M),i.innerMin.value,i.innerMax.value),p()}return()=>{const b=t.getContent(h,i.tabindex,w,q=>{q.push(S())});return u("div",{ref:v,class:i.classes.value+(e.modelValue===null?" q-slider--no-value":""),...i.attributes.value,"aria-valuenow":e.modelValue},b)}}});export{xt as Q,St as a};
