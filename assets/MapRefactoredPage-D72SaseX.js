import{aC as Te,r as p,c as R,E as ze,w as Ee,d as ke,a4 as V,J as S,a5 as e,o as We,C as xe,P as N,f as i,aD as _e,aa as k,aE as ue,F as ge,a9 as Ce,K as ne,a3 as A,M as g,an as Pe,R as D,I as re,$ as be,N as ae,ai as Ie,Q as qe,a2 as Q,a7 as Qe,a6 as Ae,aF as De}from"./index-B-zpEeKy.js";import{Q as Ne}from"./QSpace-B9UxdVKM.js";import{Q as Le}from"./QSelect-Bvz8qfXG.js";import{Q as ie,a as Z,b as j}from"./QItem-Dvqzx79e.js";import{Q as $e}from"./QList-cTAZ4c63.js";import{Q as Be}from"./QPage-PYOp2Uis.js";import{Q as He}from"./QSpinnerDots-ZhUhMUeQ.js";import{u as Ue}from"./useTheme-lvgAUfgc.js";import{_ as Ge}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QChip-B9TNPLbj.js";import"./QMenu-BsNz5t8t.js";import"./position-engine-Bf5Q5AWK.js";import"./selection-Q4s7CP1Z.js";import"./format-BvkBI9bc.js";import"./useUserSettings-D9pFEnht.js";import"./use-quasar-BAQVWikZ.js";const Ye=Te("map",()=>{const M=p(null),t=p(null),o=p(""),n=p(!1),C=p(1),a=p({x:0,y:0}),r=p([]),u=p(-1),v=p({autoHighlight:!0,showLabels:!0,showIntersections:!0,animateTransitions:!0}),E=R(()=>M.value!==null),G=R(()=>u.value>0),T=R(()=>u.value<r.value.length-1);return{selectedRoadId:M,highlightedRoadId:t,searchQuery:o,isInfoPanelOpen:n,mapZoom:C,mapCenter:a,selectionHistory:r,historyIndex:u,userPreferences:v,hasSelection:E,canUndo:G,canRedo:T,setSelectedRoad:d=>{d!==M.value&&(d&&(r.value=r.value.slice(0,u.value+1),r.value.push(d),u.value=r.value.length-1),M.value=d,d&&(n.value=!0))},setHighlightedRoad:d=>{t.value=d},setSearchQuery:d=>{o.value=d},toggleInfoPanel:()=>{n.value=!n.value},closeInfoPanel:()=>{n.value=!1},clearSelection:()=>{M.value=null,t.value=null,n.value=!1},undo:()=>{G.value&&(u.value--,M.value=r.value[u.value]||null)},redo:()=>{T.value&&(u.value++,M.value=r.value[u.value]||null)},setZoom:d=>{C.value=Math.max(.5,Math.min(3,d))},setMapCenter:d=>{a.value=d},updateUserPreference:(d,l)=>{v.value[d]=l},reset:()=>{M.value=null,t.value=null,o.value="",n.value=!1,C.value=1,a.value={x:0,y:0},r.value=[],u.value=-1}}});class Xe{svgElement=null;constructor(t){t&&(this.svgElement=t)}setSVGElement(t){this.svgElement=t}parseRoads(t={}){if(!this.svgElement)throw new Error("SVG element not set. Call setSVGElement() first.");const o=[];return this.svgElement.querySelectorAll("g[id]").forEach(C=>{const a=C,r=a.id;if(t.excludeGroups?.includes(r)||t.includeOnly&&!t.includeOnly.includes(r))return;const u=a.querySelector("path");if(!u)return;const v=u.getAttribute("d");if(!v)return;const E=this.formatRoadName(r);o.push({id:r,name:E,pathData:v,element:u,group:a})}),o}getRoadById(t){if(!this.svgElement)return null;const o=this.svgElement.querySelector(`g[id="${t}"]`);if(!o)return null;const n=o.querySelector("path");if(!n)return null;const C=n.getAttribute("d");return C?{id:t,name:this.formatRoadName(t),pathData:C,element:n,group:o}:null}formatRoadName(t){return t.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ")}getRoadIds(){if(!this.svgElement)return[];const t=this.svgElement.querySelectorAll("g[id]");return Array.from(t).map(o=>o.id)}hasRoad(t){return this.svgElement?!!this.svgElement.querySelector(`g[id="${t}"]`):!1}getRoadCount(){return this.svgElement?this.svgElement.querySelectorAll("g[id] path").length:0}validateSVGStructure(){const t=[];if(!this.svgElement)return t.push("No SVG element provided"),{isValid:!1,issues:t};const o=this.svgElement.querySelectorAll("g[id]");o.length===0&&t.push("No groups with IDs found");const n=this.svgElement.querySelectorAll("path:not(g path)");return n.length>0&&t.push(`${n.length} paths found outside of groups`),o.forEach(C=>{const a=C.querySelectorAll("path");a.length===0?t.push(`Group "${C.id}" has no path elements`):a.length>1&&t.push(`Group "${C.id}" has multiple path elements (${a.length})`)}),{isValid:t.length===0,issues:t}}getRoadStatistics(){const t=this.parseRoads();if(t.length===0)return{totalRoads:0,roadsWithPaths:0,averagePathLength:0,longestRoad:null,shortestRoad:null};const o=t.map(r=>({id:r.id,pathLength:r.pathData.length})),n=o.reduce((r,u)=>r+u.pathLength,0),C=o.reduce((r,u)=>u.pathLength>r.pathLength?u:r),a=o.reduce((r,u)=>u.pathLength<r.pathLength?u:r);return{totalRoads:t.length,roadsWithPaths:t.length,averagePathLength:Math.round(n/t.length),longestRoad:C,shortestRoad:a}}}const Ve=[{id:"default",name:"Default",strokeColor:"#323232",strokeWidth:4,hoverColor:"#007bff",selectedColor:"#28a745",defaultColor:"#323232",highlightColor:"#007bff",defaultStrokeWidth:4,highlightStrokeWidth:6},{id:"vibrant",name:"Vibrant",strokeColor:"#e74c3c",strokeWidth:5,hoverColor:"#f39c12",selectedColor:"#27ae60",defaultColor:"#e74c3c",highlightColor:"#f39c12",defaultStrokeWidth:5,highlightStrokeWidth:7},{id:"ocean",name:"Ocean",strokeColor:"#3498db",strokeWidth:4.5,hoverColor:"#2ecc71",selectedColor:"#9b59b6",defaultColor:"#3498db",highlightColor:"#2ecc71",defaultStrokeWidth:4.5,highlightStrokeWidth:6.5},{id:"sunset",name:"Sunset",strokeColor:"#f39c12",strokeWidth:4,hoverColor:"#e67e22",selectedColor:"#c0392b",defaultColor:"#f39c12",highlightColor:"#e67e22",defaultStrokeWidth:4,highlightStrokeWidth:6}];function Fe(){const M=Ye(),t=new Xe,o=ze({selectedRoadId:null,selectedRoadIds:[],hoveredRoadId:null,zoomLevel:1,panX:0,panY:0}),n=p(Ve[0]),C=p(""),a=p(!1),r=p({x:0,y:0}),u=p(""),v=p([]),E=p(!1),G=p(null),T=R(()=>{if(!C.value)return v.value;const s=C.value.toLowerCase();return v.value.filter(h=>h.name.toLowerCase().includes(s)||h.id.toLowerCase().includes(s))}),w=R(()=>o.selectedRoadId&&v.value.find(s=>s.id===o.selectedRoadId)||null),B=R(()=>o.hoveredRoadId&&v.value.find(s=>s.id===o.hoveredRoadId)||null),W=R(()=>Ve),J=R(()=>({totalRoads:v.value.length,selectedCount:o.selectedRoadIds.length,filteredCount:T.value.length})),K=async s=>{G.value=s,t.setSVGElement(s),await new Promise(h=>setTimeout(h,100)),H()},H=()=>{try{console.log("Loading roads from SVG...");const s=t.parseRoads();console.log("Parsed roads:",s),v.value=s.map(_=>({id:_.id,name:_.name,pathData:_.pathData,element:_.element,group:_.group,color:n.value.strokeColor,strokeWidth:n.value.strokeWidth,isSelected:!1,isHighlighted:!1})),E.value=!0,console.log(`Successfully loaded ${v.value.length} roads from SVG`);const h=ce();h.isValid?console.log("SVG structure validation passed"):console.warn("SVG structure validation issues:",h.issues)}catch(s){console.error("Failed to load roads from SVG:",s),E.value=!1}},x=()=>{v.value.forEach(s=>{s.isSelected=o.selectedRoadIds.includes(s.id),s.isHighlighted=o.hoveredRoadId===s.id,s.isSelected?(s.color=n.value.selectedColor,s.strokeWidth=n.value.strokeWidth+2):s.isHighlighted?(s.color=n.value.hoverColor,s.strokeWidth=n.value.strokeWidth+1):(s.color=n.value.strokeColor,s.strokeWidth=n.value.strokeWidth)})},q=s=>{o.selectedRoadId&&M.setSelectedRoad(o.selectedRoadId),o.selectedRoadId=s,s?o.selectedRoadIds=[s]:o.selectedRoadIds=[],x(),s&&l(s,"selected"),v.value.forEach(h=>{h.id!==s&&h.element&&l(h.id,"default")})},U=s=>{o.selectedRoadIds=[...s],o.selectedRoadId=s.length>0&&s[0]||null,x(),v.value.forEach(h=>{s.includes(h.id)?l(h.id,"selected"):l(h.id,"default")})},ee=s=>{o.selectedRoadIds.includes(s)?(o.selectedRoadIds=o.selectedRoadIds.filter(_=>_!==s),l(s,"default")):(o.selectedRoadIds=[...o.selectedRoadIds,s],l(s,"selected")),o.selectedRoadId=o.selectedRoadIds.length>0&&o.selectedRoadIds[0]||null,x()},Y=()=>{const s=[...o.selectedRoadIds];o.selectedRoadIds=[],o.selectedRoadId=null,s.forEach(h=>{l(h,"default")}),x()},z=s=>{o.hoveredRoadId=s,x(),s&&s!==o.selectedRoadId&&l(s,"hover")},d=()=>{o.hoveredRoadId&&o.hoveredRoadId!==o.selectedRoadId&&l(o.hoveredRoadId,"default"),o.hoveredRoadId=null,x()},l=(s,h)=>{const _=v.value.find(F=>F.id===s);if(!_?.element)return;const $=n.value;switch(h){case"hover":_.element.style.stroke=$.hoverColor,_.element.style.strokeWidth=String($.strokeWidth+1),_.element.style.filter="brightness(1.2)";break;case"selected":_.element.style.stroke=$.selectedColor,_.element.style.strokeWidth=String($.strokeWidth+2),_.element.style.filter="brightness(1.1)";break;case"default":default:_.element.style.stroke=$.strokeColor,_.element.style.strokeWidth=String($.strokeWidth),_.element.style.filter="none";break}},m=s=>{n.value=s,x(),v.value.forEach(h=>{h.id===o.selectedRoadId?l(h.id,"selected"):h.id===o.hoveredRoadId?l(h.id,"hover"):l(h.id,"default")})},b=()=>{o.selectedRoadId=null,o.selectedRoadIds=[],o.hoveredRoadId=null,o.zoomLevel=1,o.panX=0,o.panY=0,x(),v.value.forEach(s=>{l(s.id,"default")})},I=()=>{o.zoomLevel=Math.min(o.zoomLevel*1.2,5)},P=()=>{o.zoomLevel=Math.max(o.zoomLevel/1.2,.5)},te=()=>{o.panX=0,o.panY=0,o.zoomLevel=1},oe=(s,h,_)=>{const $=v.value.find(F=>F.id===s);$&&(u.value=$.name,r.value={x:h,y:_},a.value=!0)},he=()=>{a.value=!1},X=()=>{if(v.value.length===0)return null;const s=Math.floor(Math.random()*v.value.length);return v.value[s]||null},de=s=>{const h=s.toLowerCase();return v.value.filter(_=>_.name.toLowerCase().includes(h))},se=s=>v.value.find(_=>_.id===s)?.pathData||"",le=()=>({x:1e3,y:900}),ce=()=>t.validateSVGStructure(),ve=()=>t;Ee(n,()=>{});const me=R(()=>o.selectedRoadId),L=R(()=>o.hoveredRoadId),fe=R(()=>W.value),pe=R(()=>B.value);return{state:o,currentTheme:n,searchQuery:C,showTooltip:a,tooltipPosition:r,tooltipContent:u,roads:v,isRoadsLoaded:E,svgElement:G,filteredRoads:T,selectedRoad:w,hoveredRoad:B,availableThemes:W,roadStatistics:J,selectedRoadId:me,hoveredRoadId:L,themes:fe,highlightedRoad:pe,setTheme:m,clearSelection:()=>q(null),searchRoads:de,findIntersections:()=>[],highlightRoad:z,initializeSVGParser:K,loadRoadsFromSVG:H,selectRoad:q,selectMultipleRoads:U,toggleRoadSelection:ee,clearAllSelections:Y,hoverRoad:z,clearHover:d,applyRoadStyles:l,applyTheme:m,resetMap:b,zoomIn:I,zoomOut:P,centerMap:te,showRoadTooltip:oe,hideTooltip:he,getRandomRoad:X,findRoadsByName:de,getRoadPath:se,getRoadLabelPosition:le,validateSVGStructure:ce,getRoadParser:ve,updateRoadProperties:x}}const Oe={width:"100%",height:"100%",viewBox:"0 0 2000 1800",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xml:space":"preserve","xmlns:serif":"http://www.serif.com/",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":"1.5"}},Ze={id:"indian-run-court","serif:id":"indian run court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},je=["stroke"],Je={id:"conklin-lane","serif:id":"conklin lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Ke=["stroke"],et={id:"geronimo-path","serif:id":"geronimo path",transform:"matrix(1,0,0,1,-591.034,-160.657)"},tt=["stroke"],ot={id:"wappinger-court","serif:id":"wappinger court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},st=["stroke"],lt={id:"pikewood-lane","serif:id":"pikewood lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},at=["stroke"],nt={id:"bobwood-lane","serif:id":"bobwood lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},rt=["stroke"],it={id:"cowaw-road","serif:id":"cowaw road",transform:"matrix(1,0,0,1,-591.034,-160.657)"},dt=["stroke"],ct={id:"denege-circle","serif:id":"denege circle",transform:"matrix(1,0,0,1,-591.034,-160.657)"},ut=["stroke"],ht={id:"oak-lane","serif:id":"oak lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},vt=["stroke"],mt={id:"water-lily-terrace","serif:id":"water lily terrace",transform:"matrix(1,0,0,1,-591.034,-160.657)"},ft=["stroke"],pt={id:"mohegan-trail","serif:id":"mohegan trail",transform:"matrix(1,0,0,1,-591.034,-160.657)"},_t=["stroke"],gt={id:"conashaugh-trail","serif:id":"conashaugh trail",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Ct=["stroke"],kt={id:"philwood-lane","serif:id":"philwood lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Rt=["stroke"],yt={id:"seneca-drive","serif:id":"seneca drive",transform:"matrix(1,0,0,1,-591.034,-160.657)"},St=["stroke"],wt={id:"flatbrook-court","serif:id":"flatbrook court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Mt=["stroke"],xt={id:"flatbrook-way","serif:id":"flatbrook way",transform:"matrix(1,0,0,1,-591.034,-160.657)"},bt=["stroke"],It={id:"overbrook-run","serif:id":"overbrook run",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Lt=["stroke"],$t={id:"cayuga-trail","serif:id":"cayuga trail",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Vt=["stroke"],Et={id:"senaca-court","serif:id":"senaca court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Wt=["stroke"],Gt={id:"gwinnet-road","serif:id":"gwinnet road",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Tt=["stroke"],zt={id:"cree-trail","serif:id":"cree trail",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Pt=["stroke"],qt={id:"sandy-pine-trail","serif:id":"sandy pine trail",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Qt=["stroke"],At={id:"hay-road","serif:id":"hay road",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Dt=["stroke"],Nt={id:"oneida-way","serif:id":"oneida way",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Bt=["stroke"],Ht={id:"braxton-way","serif:id":"braxton way",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Ut=["stroke"],Yt={id:"iroquois-trail","serif:id":"iroquois trail",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Xt=["stroke"],Ft={id:"middleton-drive","serif:id":"middleton drive",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Ot=["stroke"],Zt={id:"walton-way","serif:id":"walton way",transform:"matrix(1,0,0,1,-591.034,-160.657)"},jt=["stroke"],Jt={id:"pine-grove-circle","serif:id":"pine grove circle",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Kt=["stroke"],eo={id:"pine-brook-lane","serif:id":"pine brook lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},to=["stroke"],oo={id:"whipple-way","serif:id":"whipple way",transform:"matrix(1,0,0,1,-591.034,-160.657)"},so=["stroke"],lo={id:"bennett-lane","serif:id":"bennett lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},ao=["stroke"],no={id:"rock-hill-lane","serif:id":"rock hill lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},ro=["stroke"],io={id:"hart-court","serif:id":"hart court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},co=["stroke"],uo={id:"brook-park-court","serif:id":"brook park court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},ho=["stroke"],vo={id:"white-tail-lane","serif:id":"white tail lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},mo=["stroke"],fo={id:"juneo-court","serif:id":"juneo court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},po=["stroke"],_o={id:"island-terrace","serif:id":"island terrace",transform:"matrix(1,0,0,1,-591.034,-160.657)"},go=["stroke"],Co={id:"lenape-drive","serif:id":"lenape drive",transform:"matrix(1,0,0,1,-591.034,-160.657)"},ko=["stroke"],Ro={id:"beaver-run","serif:id":"beaver run",transform:"matrix(1,0,0,1,-591.034,-160.657)"},yo=["stroke"],So={id:"pequot-court","serif:id":"pequot court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},wo=["stroke"],Mo={id:"bushkill-court","serif:id":"bushkill court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},xo=["stroke"],bo={id:"bushkill-lane","serif:id":"bushkill lane",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Io=["stroke"],Lo={id:"hiawatha-trail","serif:id":"hiawatha trail",transform:"matrix(1,0,0,1,-591.034,-160.657)"},$o=["stroke"],Vo={id:"stockton-drive","serif:id":"stockton drive",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Eo=["stroke"],Wo={id:"whitherspoon-court","serif:id":"whitherspoon court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Go=["stroke"],To={id:"rodney-road","serif:id":"rodney road",transform:"matrix(1,0,0,1,-591.034,-160.657)"},zo=["stroke"],Po={id:"floyd-court","serif:id":"floyd court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},qo=["stroke"],Qo={id:"barlette-drive","serif:id":"barlette drive",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Ao=["stroke"],Do={id:"overbrook-court","serif:id":"overbrook court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},No=["stroke"],Bo={id:"heyward-court","serif:id":"heyward court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Ho=["stroke"],Uo={id:"black-oak-court","serif:id":"black oak court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Yo=["stroke"],Xo={id:"nanticoke-court","serif:id":"nanticoke court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Fo=["stroke"],Oo={id:"montavk-court","serif:id":"montavk court",transform:"matrix(1,0,0,1,-591.034,-160.657)"},Zo=["stroke"],jo=ke({__name:"MapSVG",setup(M){const t=p("#323232");return(o,n)=>(S(),V("svg",Oe,[e("g",Ze,[e("path",{d:"M2346.77,1364.62C2368.82,1356.69 2351.51,1352.23 2403.37,1371.69C2431.68,1382.31 2437.39,1364.85 2470.46,1380.7C2523.93,1406.32 2527.01,1473.62 2519.64,1498.9C2515.44,1513.31 2499.17,1516.1 2479.62,1524.36C2471.96,1527.59 2468.21,1565.67 2427.53,1543.9",stroke:t.value,fill:"none"},null,8,je)]),e("g",Je,[e("path",{d:"M972.279,1287.16C972.279,1287.16 990.673,1279.73 1011.92,1253.24C1033.18,1226.75 1052.15,1209.01 1054.69,1207.69",stroke:t.value,fill:"none"},null,8,Ke)]),e("g",et,[e("path",{d:"M1330.88,1732.12C1363.24,1780.62 1361.69,1805.33 1416.47,1809.49",stroke:t.value,fill:"none"},null,8,tt)]),e("g",ot,[e("path",{d:"M1291.08,1141.55C1291.08,1141.55 1336.9,1087.07 1349.96,1078",stroke:t.value,fill:"none"},null,8,st)]),e("g",lt,[e("path",{d:"M1514.83,1254.72L1557.65,1212.95",stroke:t.value,fill:"none"},null,8,at)]),e("g",nt,[e("path",{d:"M1616.77,1337.63L1647.35,1289.91",stroke:t.value,fill:"none"},null,8,rt)]),e("g",it,[e("path",{d:"M1792.5,1285.57C1792.5,1285.57 1810.8,1322.18 1804.55,1344.07C1789.33,1397.36 1778.26,1395.51 1813.26,1447.16C1834,1477.76 1848.66,1506.14 1848.66,1506.14",stroke:t.value,fill:"none"},null,8,dt)]),e("g",ct,[e("path",{d:"M1615.23,938.034C1601.55,931.237 1602.99,918.9 1595.88,890.439",stroke:t.value,fill:"none"},null,8,ut)]),e("g",ht,[e("path",{d:"M1697.54,937.255C1671.62,966.604 1668.2,953.74 1636.69,946.257C1632.43,945.244 1615.27,938.052 1615.23,938.034",stroke:t.value,fill:"none"},null,8,vt)]),e("g",mt,[e("path",{d:"M1546.54,638.95C1546.54,638.95 1572.84,641.309 1603.94,736.476",stroke:t.value,fill:"none"},null,8,ft)]),e("g",pt,[e("path",{d:"M1918.4,643.244C1918.4,643.244 2014.4,566.577 2099.87,578.842",stroke:t.value,fill:"none"},null,8,_t)]),e("g",gt,[e("path",{d:"M1750.23,293.989C1750.23,293.989 1720.39,405.167 1716.9,419.463C1713.54,433.214 1702.86,463.318 1768.66,520.122C1788.41,537.174 1823.97,567.282 1838.56,575.797C1867.25,592.552 1895.34,607.412 1918.4,643.244C1935.83,670.321 1946.52,692.101 1963.15,715.095C1982.06,741.256 2012.2,770.29 2031.44,798.141C2051.7,827.445 2075.65,882.413 2075.65,882.413C2075.65,882.413 2089.33,894.431 2082.87,989.059C2093.92,1021.34 2086.99,1044.25 2095.18,1076.12C2104.03,1110.59 2136.14,1164.88 2149.65,1191.88C2157.32,1207.22 2165.98,1218.01 2176.24,1235.92C2226.84,1334.87 2296.16,1290.37 2346.72,1364.55C2357.14,1379.84 2357.44,1416.67 2346.77,1433.92C2334.27,1454.11 2325.73,1473.41 2305.81,1495.44C2289.66,1513.32 2276.7,1528.24 2267.97,1561.15C2263.83,1576.76 2262.99,1600.2 2261.98,1632.06C2261.65,1642.41 2261.28,1654.36 2260.8,1666.3C2260.26,1679.91 2243.36,1695.22 2214.53,1709.7C2165.55,1734.3 2106.5,1776.26 2083.95,1774.66C2059.81,1772.95 1996.4,1727.59 1949.78,1812.48C1941.81,1827 1885.13,1860.19 1865.95,1868.18",stroke:t.value,fill:"none"},null,8,Ct)]),e("g",kt,[e("path",{d:"M1186.05,862.958C1186.05,862.958 1129.02,956.711 1141.66,999.954C1157.71,1054.85 1192.6,1190.61 1205.93,1207.69C1235.13,1245.09 1316.19,1294.21 1360.02,1334.07C1382.56,1354.56 1461.28,1352.34 1517.65,1357.48C1540.47,1343.93 1555.29,1314.05 1555.29,1314.05",stroke:t.value,fill:"none"},null,8,Rt)]),e("g",yt,[e("path",{d:"M1346.67,232.793C1308.74,260.196 1231.17,278.528 1254.46,319.638C1316.11,363.006 1307.69,400.682 1330.67,417.378C1371.12,446.76 1389.04,507.411 1393.31,524.216C1403.81,565.494 1454.88,644.354 1339.79,826.711C1312,873.133 1289.9,920.712 1289.9,920.712C1289.9,920.712 1178.17,1048.12 1291.51,1140.38C1335.04,1175.82 1360.05,1183.1 1392.33,1207.83C1481.63,1276.23 1488.64,1222.1 1515.78,1257.19C1527.13,1278.31 1536.78,1298.42 1554.58,1312.61C1570.91,1325.62 1591.83,1331.59 1614.03,1338.21C1648.98,1348.63 1657.26,1396.36 1688.48,1413.64C1745.62,1445.28 1705.55,1506.09 1786.68,1526.32C1815.15,1533.43 1830.32,1520.06 1848.66,1506.14C1866,1500.56 1875.71,1474.05 1880.99,1429.08C1884.51,1399.18 1948.35,1423.57 1981.83,1387.97C2001.81,1348.32 2005.41,1339.17 2018.48,1315.45C2031.57,1291.67 2043.02,1257.31 2060.4,1245.32C2108.7,1212.02 2148.27,1250.62 2176.24,1235.92",stroke:t.value,fill:"none"},null,8,St)]),e("g",wt,[e("path",{d:"M2018.48,1315.45C2018.48,1315.45 2057.94,1333.48 2069.72,1357.64",stroke:t.value,fill:"none"},null,8,Mt)]),e("g",xt,[e("path",{d:"M1099.46,773.007C1099.46,773.007 1134.6,833.434 1186.05,862.958C1237.48,892.483 1264.47,910.689 1289.9,920.712C1324.72,934.44 1352.98,979.53 1542.25,895.712C1560.7,887.543 1596.39,889.248 1596.39,889.248C1596.39,889.248 1608.58,889.674 1613.79,891.122C1625.74,894.447 1650.51,902.424 1669.21,910.134C1681.97,915.398 1690.59,929.896 1699.89,939.447C1711.01,950.861 1724.37,964.754 1738.09,982.059C1762.52,1012.86 1766.38,1048.95 1781.98,1072.18C1841.74,1161.17 1795.56,1160.56 1885.87,1216.48C1994.53,1321.55 1976.09,1259.92 2018.48,1315.45",stroke:t.value,fill:"none"},null,8,bt)]),e("g",It,[e("path",{d:"M971.291,1068.61C971.291,1068.61 1051.3,932.486 1032.26,876.093C1011.72,815.231 1033.72,791.789 1098.71,773.268C1114.31,768.824 1132.08,740.858 1146.31,716.833C1159.7,694.242 1181.49,650.109 1181.49,650.109C1181.49,650.109 1208.72,596.462 1231.65,579.073C1254.58,561.684 1320.91,545.434 1320.91,545.434L1393.31,524.216C1393.31,524.216 1427.74,512.014 1444.89,505.726C1527.26,475.52 1519.58,470.571 1556.21,406.57C1569.19,383.883 1614.17,348.066 1651.04,378.125C1677.82,399.959 1690.85,413.757 1716.86,419.629C1759.95,429.354 1867.01,395.535 1867.01,395.535L1945.96,373.521",stroke:t.value,fill:"none"},null,8,Lt)]),e("g",$t,[e("path",{d:"M1246.51,774.676C1342.11,600.14 1352.24,634.801 1320.91,545.434C1311.47,518.493 1302.84,500.71 1295.83,484.904C1257.32,398.059 1263,462.62 1198.51,357.429",stroke:t.value,fill:"none"},null,8,Vt)]),e("g",Et,[e("path",{d:"M1330.67,417.378C1358.18,417.268 1378.65,418.303 1419.14,363.046",stroke:t.value,fill:"none"},null,8,Wt)]),e("g",Gt,[e("path",{d:"M680.815,606.452C680.815,606.452 874.078,495.141 901.787,484.451C929.495,473.761 999.042,490.925 1037.35,499.989C1094.88,513.6 1124.65,512.904 1161.53,514.212C1190.79,515.25 1231.54,579.156 1231.54,579.156",stroke:t.value,fill:"none"},null,8,Tt)]),e("g",zt,[e("path",{d:"M1146.31,716.833L1339.75,828.322",stroke:t.value,fill:"none"},null,8,Pt)]),e("g",qt,[e("path",{d:"M2086.76,459.22C2050.81,466.138 2032.32,467.25 1976.83,482.205C1859.37,495.418 1838.56,575.797 1838.56,575.797C1838.56,575.797 1819.41,659.609 1779.43,696.947C1761.23,713.94 1781.12,734.601 1808.29,781.28C1824.39,808.951 1838.1,858.438 1855.97,870.117C1873.85,881.796 1912.62,894.764 1930.91,900.289C1964.28,910.371 1983.01,942.115 2075.65,882.413",stroke:t.value,fill:"none"},null,8,Qt)]),e("g",At,[e("path",{d:"M2031.44,798.141C2079.8,759.12 2104.35,757.331 2099.87,578.842C2100.7,553.581 2100.91,537.595 2100.54,526.399C2099.59,497.705 2094.82,500.48 2086.76,459.22C2075.12,399.646 2075.79,397.437 2067.93,329.001C2050.15,286.133 2031.75,291.482 2026.17,234.919",stroke:t.value,fill:"none"},null,8,Dt)]),e("g",Nt,[e("path",{d:"M1310.15,1463.24C1271.67,1395.3 1236.46,1395.82 1198.15,1352.91C1166.51,1317.46 1143.38,1239.53 1117.92,1225.84C1085.28,1208.28 1078.24,1231.25 1054.69,1207.69C1028.89,1181.88 1025.39,1100.46 971.291,1068.61C919.603,1030.79 812.471,991.951 787.861,932.397C770.725,890.93 738.068,851.91 729.037,807.671C719.405,760.492 742.038,721.962 680.815,606.452C636.342,522.543 669.443,476.295 732.444,441.086C789.827,409.017 863.183,372.735 873.522,371.044C1042.24,343.448 1106.48,445.195 1198.51,357.429C1232.81,324.725 1254.46,319.638 1254.46,319.638",stroke:t.value,fill:"none"},null,8,Bt)]),e("g",Ht,[e("path",{d:"M1032.26,876.093C1032.26,876.093 951.802,908.722 923.366,897.794C886.178,883.502 863.242,842.972 787.874,932.429",stroke:t.value,fill:"none"},null,8,Ut)]),e("g",Yt,[e("path",{d:"M2082.87,989.059C2047.35,1001.75 2073.33,1048.42 2052.04,1067.59C2042.28,1076.39 2006.39,1084.01 1960.62,1101.51C1874.57,1134.39 1901.83,1188.56 1887.45,1217.91C1880.7,1231.68 1868.87,1242 1853.88,1245.6C1826.77,1252.11 1822.68,1243.97 1792.5,1285.57C1751.47,1323.7 1716.64,1288.44 1688.48,1413.64C1675.08,1438.54 1655.16,1467.88 1633,1469.8C1580,1474.4 1597.49,1453.09 1532.97,1487.17C1496.99,1495.39 1358.79,1427.64 1310.15,1463.24C1277.44,1487.18 1253.66,1514.96 1223.05,1519.37C1122.32,1533.88 1126.24,1465.26 1092.11,1438.97C1056.85,1411.81 1059.1,1451.51 972.279,1287.16C932.258,1211.4 864.469,1103.96 864.469,1103.96",stroke:t.value,fill:"none"},null,8,Xt)]),e("g",Ft,[e("path",{d:"M1414.91,1860.04C1414.91,1860.04 1414.21,1833.85 1415.91,1810.07C1417.32,1790.37 1470.78,1678.82 1494.29,1621.44C1511.94,1578.34 1548.36,1528.82 1532.97,1487.17",stroke:t.value,fill:"none"},null,8,Ot)]),e("g",Zt,[e("path",{d:"M1633,1469.8C1638.81,1489.15 1633.8,1505.57 1635.34,1523.79C1637.87,1553.7 1646.13,1626.09 1727.61,1638.86",stroke:t.value,fill:"none"},null,8,jt)]),e("g",Jt,[e("path",{d:"M1542.11,895.155C1541.78,896.445 1487.02,791.2 1603.1,736.304C1716.83,707.208 1747.79,801.871 1747.79,801.871",stroke:t.value,fill:"none"},null,8,Kt)]),e("g",eo,[e("path",{d:"M1734.44,978.903C1734.44,978.903 1821.93,913.242 1854.7,869.22",stroke:t.value,fill:"none"},null,8,to)]),e("g",oo,[e("path",{d:"M1593.74,1832.97C1605.67,1810.16 1563.48,1716.8 1722.51,1737.66",stroke:t.value,fill:"none"},null,8,so)]),e("g",lo,[e("path",{d:"M1391.51,1208.01L1458.3,1116.34",stroke:t.value,fill:"none"},null,8,ao)]),e("g",no,[e("path",{d:"M1223.05,1519.37L1245.31,1606.45",stroke:t.value,fill:"none"},null,8,ro)]),e("g",io,[e("path",{d:"M729.037,807.671L827.303,759.239",stroke:t.value,fill:"none"},null,8,co)]),e("g",uo,[e("path",{d:"M1556.21,406.57C1556.21,406.57 1514.01,383.432 1488.14,298.627",stroke:t.value,fill:"none"},null,8,ho)]),e("g",vo,[e("path",{d:"M1922.27,288.669L1945.96,373.521L1976.83,482.205",stroke:t.value,fill:"none"},null,8,mo)]),e("g",fo,[e("path",{d:"M1867.01,395.535C1867.01,395.535 1851.01,345.454 1854.13,333.493",stroke:t.value,fill:"none"},null,8,po)]),e("g",_o,[e("path",{d:"M1695.18,1106.96C1725.29,1083.62 1773.66,1058.81 1773.66,1058.81",stroke:t.value,fill:"none"},null,8,go)]),e("g",Co,[e("path",{d:"M1668.31,910.752C1699.87,852.105 1695.97,818.699 1748.99,801.934C1771.82,794.716 1787.87,787.527 1807.95,780.695C1847.96,767.074 1963.15,715.095 1963.15,715.095",stroke:t.value,fill:"none"},null,8,ko)]),e("g",Ro,[e("path",{d:"M1936.91,902.37C1917.8,933.408 1913.58,984.508 1960.62,1101.51C1976.11,1140.02 1991.56,1152.4 2060,1245.6",stroke:t.value,fill:"none"},null,8,yo)]),e("g",So,[e("path",{d:"M2052.04,1067.59C2052.04,1067.59 2065.71,1084.5 2095.56,1077.58C2135.61,1068.29 2166.61,1055.37 2169.61,1031.85C2172.01,1013.04 2170.39,985.461 2153.09,956.671",stroke:t.value,fill:"none"},null,8,wo)]),e("g",Mo,[e("path",{d:"M1981.83,1387.97C2008.82,1403.02 2001.2,1439.36 2027.02,1459.34",stroke:t.value,fill:"none"},null,8,xo)]),e("g",bo,[e("path",{d:"M1853.88,1245.6C1853.88,1245.6 1844.47,1330.86 1866.78,1339.34C1884.2,1345.97 1925.41,1356.52 1981.83,1387.97",stroke:t.value,fill:"none"},null,8,Io)]),e("g",Lo,[e("path",{d:"M1786.68,1526.32C1786.68,1526.32 1774.89,1574.24 1782.06,1593.13C1787.84,1608.35 1828.32,1638.19 1833.21,1665.29C1838.09,1692.39 1821.85,1730.93 1867.25,1751.4",stroke:t.value,fill:"none"},null,8,$o)]),e("g",Vo,[e("path",{d:"M1781.97,1592.89C1781.97,1592.89 1741.7,1611.97 1728.07,1637.94C1715.45,1661.99 1724.54,1721.02 1722.51,1737.66C1719.26,1764.47 1690.73,1822.29 1683.01,1846.91C1675.83,1863.53 1664.58,1888.52 1664.58,1888.52",stroke:t.value,fill:"none"},null,8,Eo)]),e("g",Wo,[e("path",{d:"M1683.01,1846.91C1648.87,1839.23 1616.4,1834.37 1593.74,1832.97C1573.89,1831.73 1559.4,1829.63 1544.41,1827.39",stroke:t.value,fill:"none"},null,8,Go)]),e("g",To,[e("path",{d:"M1288.96,1751.4C1288.96,1751.4 1300.45,1746.07 1328.68,1732.17C1367.37,1713.11 1361.97,1670.11 1434.7,1623.37C1469.09,1601.27 1495.05,1622.68 1495.05,1622.68",stroke:t.value,fill:"none"},null,8,zo)]),e("g",Po,[e("path",{d:"M2229.86,1435.77C2240.71,1434.18 2305.81,1495.44 2305.81,1495.44",stroke:t.value,fill:"none"},null,8,qo)]),e("g",Qo,[e("path",{d:"M2346.77,1433.92C2346.77,1433.92 2360.94,1438.44 2373.4,1440.42C2384.33,1442.16 2397.74,1442.2 2402.67,1447.92C2415.68,1463.04 2438.59,1513.52 2427.53,1543.9C2416.64,1573.81 2396.97,1591.11 2363.87,1625.29C2339.9,1657.32 2292.81,1644.04 2261.98,1632.06",stroke:t.value,fill:"none"},null,8,Ao)]),e("g",Do,[e("path",{d:"M1444.31,505.938C1444.31,505.938 1469.47,567.87 1460.91,610.102",stroke:t.value,fill:"none"},null,8,No)]),e("g",Bo,[e("path",{d:"M1104.4,606.452L1179.39,654.321",stroke:t.value,fill:"none"},null,8,Ho)]),e("g",Uo,[e("path",{d:"M1613.86,890.259C1613.86,890.259 1618.5,850.578 1631.91,834.966",stroke:t.value,fill:"none"},null,8,Yo)]),e("g",Xo,[e("path",{d:"M2100.5,525.135L2155.09,521.869",stroke:t.value,fill:"none"},null,8,Fo)]),e("g",Oo,[e("path",{d:"M2169.5,1032.65L2224.39,1047.33",stroke:t.value,fill:"none"},null,8,Zo)])]))}}),Jo={class:"map-content"},Ko={class:"unselected-roads-layer",transform:"matrix(1,0,0,1,-591.034,-160.657)"},e1=["id","data-road-name"],t1=["d","onClick","onMouseenter","onMouseleave"],o1=["d","stroke","stroke-width"],s1={class:"selected-roads-layer",transform:"matrix(1,0,0,1,-591.034,-160.657)"},l1=["id","data-road-name"],a1=["d","onClick","onMouseenter","onMouseleave"],n1=["d","stroke","stroke-width"],r1={key:0,class:"hovered-road-layer",transform:"matrix(1,0,0,1,-591.034,-160.657)"},i1=["id","data-road-name"],d1=["d"],c1=["d","stroke","stroke-width"],u1={key:0,class:"loading-overlay"},h1={class:"text-caption"},v1={class:"zoom-controls"},m1=ke({__name:"InteractiveMapSVGRefactored",setup(M,{expose:t}){const{backgroundClasses:o,borderClasses:n,textClasses:C}=Ue(),{state:a,currentTheme:r,roads:u,isRoadsLoaded:v,selectedRoad:E,showTooltip:G,tooltipPosition:T,tooltipContent:w,roadStatistics:B,availableThemes:W,searchQuery:J,filteredRoads:K,initializeSVGParser:H,selectRoad:x,selectMultipleRoads:q,toggleRoadSelection:U,clearAllSelections:ee,hoverRoad:Y,clearHover:z,zoomIn:d,zoomOut:l,centerMap:m,showRoadTooltip:b,hideTooltip:I,validateSVGStructure:P,applyTheme:te,getRandomRoad:oe}=Fe(),he=p(),X=p(),de=p(),se=p(!1),le=p({x:0,y:0}),ce=R(()=>u.value.length),ve=R(()=>u.value.filter(c=>a.selectedRoadIds.includes(c.id))),me=R(()=>u.value.filter(c=>!a.selectedRoadIds.includes(c.id)&&a.hoveredRoadId!==c.id)),L=R(()=>a.hoveredRoadId&&!a.selectedRoadIds.includes(a.hoveredRoadId)?u.value.find(c=>c.id===a.hoveredRoadId):null),fe=async()=>{if(await xe(),X.value?.$el){let c=null;if(X.value.$el instanceof SVGSVGElement?c=X.value.$el:c=X.value.$el.querySelector("svg"),c){console.log("Found SVG element, initializing parser..."),await H(c);const y=P();y.isValid||console.warn("SVG structure validation issues:",y.issues)}else console.error("SVG element not found in MapSVG component")}else console.error("MapSVG ref not available or $el not found")};We(async()=>{await xe(),await fe()});const pe=c=>{const y=c.deltaY>0?-.1:.1,f=Math.max(.5,Math.min(5,a.zoomLevel+y));a.zoomLevel=f},Re=c=>{se.value=!0,le.value={x:c.clientX,y:c.clientY}},ye=c=>{if(se.value){const y=c.clientX-le.value.x,f=c.clientY-le.value.y;a.panX+=y,a.panY+=f,le.value={x:c.clientX,y:c.clientY}}},Se=()=>{se.value=!1},we=()=>{se.value=!1,z(),I()},Me=()=>{a.hoveredRoadId&&(console.log("Tooltip clicked for road:",a.hoveredRoadId),s(a.hoveredRoadId),I())},s=c=>{console.log("Road clicked:",c),U(c)},h=(c,y)=>{console.log("Road mouse enter:",c),Y(c),b(c,y.clientX+10,y.clientY-10)},_=c=>{console.log("Road mouse leave:",c),a.hoveredRoadId===c&&(z(),I())},$=c=>a.selectedRoadIds.includes(c)?r.value.selectedColor:a.hoveredRoadId===c?r.value.hoverColor:r.value.strokeColor,F=c=>a.selectedRoadIds.includes(c)?r.value.strokeWidth+2:a.hoveredRoadId===c?r.value.strokeWidth+1:r.value.strokeWidth;return t({selectRoad:x,selectMultipleRoads:q,toggleRoadSelection:U,clearAllSelections:ee,centerMap:m,zoomIn:d,zoomOut:l,hoverRoad:Y,clearHover:z,currentTheme:r,availableThemes:W,applyTheme:te,roads:u,selectedRoad:E,state:a,roadStatistics:B,isRoadsLoaded:v,searchQuery:J,filteredRoads:K,getRandomRoad:oe}),(c,y)=>(S(),V("div",{class:ne(["interactive-map-container",k(o).card,k(n).light])},[e("div",Jo,[e("div",{ref_key:"mapContainer",ref:he,class:"map-svg-container"},[i(jo,{ref_key:"mapSvgRef",ref:X,class:"original-map-template",style:_e({display:k(v)?"none":"block",opacity:k(v)?0:1})},null,8,["style"]),k(v)?(S(),V("svg",{key:0,ref_key:"interactiveSvgRef",ref:de,class:"interactive-map-svg",width:"100%",height:"100%",viewBox:"0 0 2000 1800",xmlns:"http://www.w3.org/2000/svg",style:_e({transform:`translate(${k(a).panX}px, ${k(a).panY}px) scale(${k(a).zoomLevel})`,transition:"transform 0.3s ease"}),onWheel:ue(pe,["prevent"]),onMousedown:Re,onMousemove:ye,onMouseup:Se,onMouseleave:we},[e("g",Ko,[(S(!0),V(ge,null,Ce(me.value,f=>(S(),V("g",{key:`unselected-${f.id}`,id:f.id,"data-road-name":f.name,class:"road-group"},[e("path",{d:f.pathData,stroke:"transparent","stroke-width":"30",fill:"none",class:"road-hit-area",style:{cursor:"pointer","pointer-events":"stroke"},onClick:ue(O=>s(f.id),["stop"]),onMouseenter:O=>h(f.id,O),onMouseleave:O=>_(f.id)},null,40,t1),e("path",{d:f.pathData,stroke:$(f.id),"stroke-width":F(f.id),fill:"none",class:"road-path",style:{"pointer-events":"none"}},null,8,o1)],8,e1))),128))]),e("g",s1,[(S(!0),V(ge,null,Ce(ve.value,f=>(S(),V("g",{key:`selected-${f.id}`,id:`selected-${f.id}`,"data-road-name":f.name,class:"road-group"},[e("path",{d:f.pathData,stroke:"transparent","stroke-width":"30",fill:"none",class:"road-hit-area",style:{cursor:"pointer","pointer-events":"stroke"},onClick:ue(O=>s(f.id),["stop"]),onMouseenter:O=>h(f.id,O),onMouseleave:O=>_(f.id)},null,40,a1),e("path",{d:f.pathData,stroke:$(f.id),"stroke-width":F(f.id),fill:"none",class:ne(["road-path road-selected",{"road-hovered":k(a).hoveredRoadId===f.id}]),style:{"pointer-events":"none"}},null,10,n1)],8,l1))),128))]),L.value?(S(),V("g",r1,[(S(),V("g",{key:`hovered-${L.value.id}`,id:`hovered-${L.value.id}`,"data-road-name":L.value.name,class:"road-group"},[e("path",{d:L.value.pathData,stroke:"transparent","stroke-width":"30",fill:"none",class:"road-hit-area",style:{cursor:"pointer","pointer-events":"stroke"},onClick:y[0]||(y[0]=ue(f=>s(L.value.id),["stop"])),onMouseenter:y[1]||(y[1]=f=>h(L.value.id,f)),onMouseleave:y[2]||(y[2]=f=>_(L.value.id))},null,40,d1),e("path",{d:L.value.pathData,stroke:$(L.value.id),"stroke-width":F(L.value.id),fill:"none",class:"road-path road-hovered",style:{"pointer-events":"none"}},null,8,c1)],8,i1))])):N("",!0)],36)):N("",!0)],512),k(v)?N("",!0):(S(),V("div",u1,[i(He,{size:"2em",color:"primary"}),y[3]||(y[3]=e("p",null,"Loading interactive map...",-1)),e("p",h1,"Parsing "+A(ce.value)+" roads...",1)])),i(Pe,{name:"tooltip"},{default:g(()=>[k(G)&&k(w)?(S(),V("div",{key:0,class:ne(["road-tooltip","q-pa-sm","text-weight-medium","shadow-4",k(o).surface,k(C).primary,k(n).light]),style:_e({left:k(T).x+"px",top:k(T).y+"px"}),onClick:Me},A(k(w)),7)):N("",!0)]),_:1}),e("div",v1,[i(D,{round:"",color:"primary",icon:"add",size:"sm",onClick:k(d),disable:k(a).zoomLevel>=5},null,8,["onClick","disable"]),i(D,{round:"",color:"primary",icon:"remove",size:"sm",onClick:k(l),disable:k(a).zoomLevel<=.5},null,8,["onClick","disable"]),i(D,{round:"",color:"secondary",icon:"center_focus_strong",size:"sm",onClick:k(m),title:"Center Map"},null,8,["onClick"])])])],2))}}),f1=Ge(m1,[["__scopeId","data-v-0357698d"]]),p1={class:"map-container"},_1={class:"text-subtitle1"},g1={key:0,class:"text-caption text-grey-6"},C1={class:"overlay-content"},k1={class:"row q-gutter-sm q-mb-md"},R1={class:"row q-gutter-sm q-mb-md"},y1={class:"roads-list-container"},S1={class:"map-controls-with-zoom"},w1={class:"text-subtitle1 q-mb-md flex items-center"},M1={class:"q-mb-md"},x1={class:"q-mb-md"},b1=ke({__name:"MapRefactoredPage",setup(M){const t=p(),o=p("default"),n=p(""),C=p("name"),a=p("asc"),r=p(!0),u=p(!1),v=[{label:"Name (A-Z)",value:"name"},{label:"Selected First",value:"selected"}],E=R(()=>t.value?.availableThemes||[]),G=R(()=>t.value?.isRoadsLoaded||!1),T=R(()=>t.value?.roadStatistics||{totalRoads:0,selectedCount:0,filteredCount:0}),w=R(()=>{const d={selectedRoadIds:[],selectedRoadId:null,hoveredRoadId:null};return t.value?.state||d}),B=R(()=>{const d=t.value?.roads||[];return n.value?d.filter(l=>l.name?.toLowerCase().includes(n.value.toLowerCase())||l.id?.toLowerCase().includes(n.value.toLowerCase())):d}),W=R(()=>{const d=[...B.value],l=w.value.selectedRoadIds||[];return d.sort((m,b)=>{if(C.value==="selected"){const I=l.includes(m.id),P=l.includes(b.id);if(I&&!P)return a.value==="asc"?-1:1;if(!I&&P)return a.value==="asc"?1:-1;const te=m.name?.toLowerCase()||"",oe=b.name?.toLowerCase()||"";return a.value==="asc"?te.localeCompare(oe):oe.localeCompare(te)}else{const I=m.name?.toLowerCase()||"",P=b.name?.toLowerCase()||"";return a.value==="asc"?I.localeCompare(P):P.localeCompare(I)}}),d}),J=d=>{const l=E.value.find(m=>m.id===d);l&&t.value?.applyTheme&&t.value.applyTheme(l)},K=()=>{t.value?.searchQuery!==void 0&&(t.value.searchQuery=n.value)},H=()=>{if(t.value?.getRandomRoad){const d=t.value.getRandomRoad();d&&t.value?.selectRoad&&t.value.selectRoad(d.id)}},x=()=>{t.value?.clearAllSelections&&t.value.clearAllSelections()},q=d=>{t.value?.toggleRoadSelection&&t.value.toggleRoadSelection(d)},U=()=>{if(t.value?.selectMultipleRoads){const d=W.value.map(b=>b.id),l=w.value.selectedRoadIds||[],m=d.filter(b=>!l.includes(b));m.length>0&&t.value.selectMultipleRoads([...l,...m])}},ee=()=>{a.value=a.value==="asc"?"desc":"asc"},Y=d=>{t.value?.hoverRoad&&t.value.hoverRoad(d)},z=()=>{t.value?.clearHover&&t.value.clearHover()};return Ee(n,K),We(()=>{setTimeout(()=>{t.value?.currentTheme?.id&&(o.value=t.value.currentTheme.id)},100)}),(d,l)=>(S(),re(Be,{class:"map-page"},{default:g(()=>[e("div",p1,[i(f1,{ref_key:"mapRef",ref:t,class:"fit"},null,512),e("div",{class:ne(["map-overlay roads-overlay",{collapsed:!r.value}])},[e("div",{class:"overlay-header",onClick:l[0]||(l[0]=m=>r.value=!r.value)},[i(ae,{name:"alt_route",size:"sm",class:"q-mr-sm"}),e("span",_1,"Roads ("+A(W.value.length)+")",1),i(Ne),w.value.selectedRoadIds?.length&&r.value?(S(),V("div",g1,A(w.value.selectedRoadIds.length)+" selected ",1)):N("",!0),i(ae,{name:r.value?"expand_less":"expand_more"},null,8,["name"])]),be(e("div",C1,[i(qe,{modelValue:n.value,"onUpdate:modelValue":l[2]||(l[2]=m=>n.value=m),outlined:"",dense:"",placeholder:"Search roads...",class:"q-mb-md"},{prepend:g(()=>[i(ae,{name:"search"})]),append:g(()=>[n.value?(S(),re(ae,{key:0,name:"clear",class:"cursor-pointer",onClick:l[1]||(l[1]=m=>n.value="")})):N("",!0)]),_:1},8,["modelValue"]),e("div",k1,[i(Le,{modelValue:C.value,"onUpdate:modelValue":l[3]||(l[3]=m=>C.value=m),options:v,"option-label":"label","option-value":"value","emit-value":"","map-options":"",dense:"",outlined:"",label:"Sort by",class:"col"},null,8,["modelValue"]),i(D,{flat:"",dense:"",icon:a.value==="asc"?"arrow_upward":"arrow_downward",onClick:ee,title:`Sort ${a.value==="asc"?"Descending":"Ascending"}`},null,8,["icon","title"])]),e("div",R1,[i(D,{flat:"",dense:"",color:"primary",icon:"select_all",label:"Select All",onClick:U,disable:W.value.length===0,size:"sm"},null,8,["disable"]),i(D,{flat:"",dense:"",color:"negative",icon:"clear_all",label:"Clear",onClick:x,disable:(w.value.selectedRoadIds?.length||0)===0,size:"sm"},null,8,["disable"]),i(D,{flat:"",dense:"",color:"secondary",icon:"shuffle",label:"Random",onClick:H,size:"sm"})]),e("div",y1,[i($e,{dense:""},{default:g(()=>[(S(!0),V(ge,null,Ce(W.value,(m,b)=>(S(),re(ie,{key:`road-${b}`,clickable:"",active:w.value.selectedRoadIds?.includes(m.id),onClick:I=>q(m.id),onMouseenter:I=>Y(m.id),onMouseleave:z,class:ne(["road-list-item",{"road-list-item--hovered":w.value.hoveredRoadId===m.id,"road-list-item--selected":w.value.selectedRoadIds?.includes(m.id)}])},{default:g(()=>[i(Z,{side:""},{default:g(()=>[i(De,{"model-value":w.value.selectedRoadIds?.includes(m.id)||!1,"onUpdate:modelValue":()=>q(m.id),color:"primary"},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024),i(Z,null,{default:g(()=>[i(j,null,{default:g(()=>[Q(A(m.name),1)]),_:2},1024)]),_:2},1024),i(Z,{side:""},{default:g(()=>[i(ae,{name:"location_on",color:w.value.selectedRoadIds?.includes(m.id)?"primary":"grey"},null,8,["color"])]),_:2},1024)]),_:2},1032,["active","onClick","onMouseenter","class"]))),128)),W.value.length===0&&G.value?(S(),re(ie,{key:0},{default:g(()=>[i(Z,null,{default:g(()=>[i(j,{class:"text-grey-6"},{default:g(()=>[Q(A(n.value?"No roads match your search":"No roads found"),1)]),_:1})]),_:1})]),_:1})):N("",!0),G.value?N("",!0):(S(),re(ie,{key:1},{default:g(()=>[i(Z,null,{default:g(()=>[i(j,{class:"text-grey-6"},{default:g(()=>l[6]||(l[6]=[Q(" Loading roads... ",-1)])),_:1,__:[6]})]),_:1})]),_:1}))]),_:1})])],512),[[Ie,r.value]])],2),e("div",S1,[i(D,{round:"",color:"primary",icon:"settings",size:"sm",onClick:l[4]||(l[4]=m=>u.value=!u.value),class:ne([{active:u.value},"controls-toggle-btn"])},null,8,["class"]),be(i(Ae,{class:"controls-popup"},{default:g(()=>[i(Qe,{class:"q-pb-sm"},{default:g(()=>[e("div",w1,[i(ae,{name:"tune",class:"q-mr-sm"}),l[7]||(l[7]=Q(" Map Controls ",-1))]),e("div",M1,[i(Le,{modelValue:o.value,"onUpdate:modelValue":[l[5]||(l[5]=m=>o.value=m),J],options:E.value,"option-label":"name","option-value":"id","emit-value":"","map-options":"",dense:"",outlined:"",label:"Theme"},null,8,["modelValue","options"])]),e("div",x1,[l[10]||(l[10]=e("div",{class:"text-subtitle2 q-mb-sm"},"Statistics",-1)),i($e,{dense:"",class:"rounded-borders"},{default:g(()=>[i(ie,null,{default:g(()=>[i(Z,null,{default:g(()=>[i(j,{caption:""},{default:g(()=>l[8]||(l[8]=[Q("Total Roads",-1)])),_:1,__:[8]}),i(j,null,{default:g(()=>[Q(A(T.value.totalRoads),1)]),_:1})]),_:1})]),_:1}),i(ie,null,{default:g(()=>[i(Z,null,{default:g(()=>[i(j,{caption:""},{default:g(()=>l[9]||(l[9]=[Q("Selected",-1)])),_:1,__:[9]}),i(j,null,{default:g(()=>[Q(A(w.value.selectedRoadIds?.length||0)+" roads",1)]),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})]),_:1},512),[[Ie,u.value]])])])]),_:1}))}}),H1=Ge(b1,[["__scopeId","data-v-ba76b682"]]);export{H1 as default};
