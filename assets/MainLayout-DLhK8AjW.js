import{Q as kt}from"./QPage-Df4pcqfM.js";import{c as ue,g as ye,a as Pe,e as X,b as be,f,h as Q,j as we,p as Ke,k as xt,r as C,m as Te,n as $t,o as pe,w as I,q as Ct,s as qt,t as Ye,u as St,v as j,x,y as r,Q as Ze,z as me,A as Lt,B as c,C as o,D as z,E as k,F as D,G as v,H as V,I as m,J as G,K,L as le,M as N,N as A,O as It,P as Qe,R as Tt,S as Vt,T as zt,U as At,V as Nt,W as Ut,X as Bt,Y as Pt,Z as Ee,_ as ve,$ as He,a0 as Ne,a1 as Ve,l as ae,a2 as Qt,a3 as Xe,a4 as Dt,a5 as et,a6 as Ot,a7 as Ge,a8 as Ft,a9 as ge,aa as Mt,ab as Rt,ac as Et}from"./index-C_JkpTYA.js";import{Q as Ht}from"./QScrollObserver-CwjBW7fE.js";import{Q as Ue}from"./QResizeObserver-065t6PDQ.js";import{u as ke}from"./site-store-simple-Dpt8jODH.js";import{Q as tt}from"./QImg-CcqjdU3Y.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Q as ie,a as H,b as Z}from"./QItem-D71Clo6b.js";import{Q as re}from"./QList-hbuR9g1G.js";import{Q as Gt}from"./QMenu-Dh3ZC5pK.js";import{Q as at}from"./QBtnDropdown-B_VspOMD.js";import{Q as Wt}from"./QBtnGroup-CnpgbsFn.js";import{C as Be}from"./ClosePopup-CItAD2gQ.js";import{u as jt}from"./useLocale-Bw30hHJb.js";import{U as P}from"./ui-icons-C2WSN06j.js";import{T as W}from"./translation-keys-CcbP-t_8.js";import{u as De}from"./vue-i18n.runtime-BJBTxLQE.js";import{Q as Jt}from"./QSpace-Cx1rzqTo.js";import{T as ze}from"./TouchPan-Bzb1jPym.js";import{b as _e}from"./format-DFNAs745.js";import{Q as lt}from"./QTooltip-CP8m_Pmp.js";import{firestoreService as ot}from"./firebase-firestore.service-DPj3Rf11.js";import{u as Kt}from"./useSiteTheme-BN9TRfnC.js";import{f as We}from"./firebase-auth.service-DUJ5rzAl.js";import{u as Yt}from"./useUserSettings-DnMlxD9P.js";import{u as Zt}from"./useFirebase-Dw-FPQcY.js";import{Q as Xt}from"./QSpinnerDots-CDkhPEZk.js";import"./locale-detector-CG1VY2TV.js";import"./touch-BjYP5sR0.js";import"./firebase-storage.service-is7ocZr7.js";const ea=ue({name:"QPageContainer",setup(e,{slots:y}){const{proxy:{$q:h}}=ye(),a=Pe(be,X);if(a===X)return console.error("QPageContainer needs to be child of QLayout"),X;Ke(xt,!0);const i=f(()=>{const d={};return a.header.space===!0&&(d.paddingTop=`${a.header.size}px`),a.right.space===!0&&(d[`padding${h.lang.rtl===!0?"Left":"Right"}`]=`${a.right.size}px`),a.footer.space===!0&&(d.paddingBottom=`${a.footer.size}px`),a.left.space===!0&&(d[`padding${h.lang.rtl===!0?"Right":"Left"}`]=`${a.left.size}px`),d});return()=>Q("div",{class:"q-page-container",style:i.value},we(y.default))}}),ta=ue({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:y,emit:h}){const{proxy:{$q:a}}=ye(),i=C(null),d=C(a.screen.height),g=C(e.container===!0?0:a.screen.width),p=C({position:0,direction:"down",inflectionPoint:0}),l=C(0),u=C($t.value===!0?0:Te()),t=f(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),L=f(()=>e.container===!1?{minHeight:a.screen.height+"px"}:null),n=f(()=>u.value!==0?{[a.lang.rtl===!0?"left":"right"]:`${u.value}px`}:null),w=f(()=>u.value!==0?{[a.lang.rtl===!0?"right":"left"]:0,[a.lang.rtl===!0?"left":"right"]:`-${u.value}px`,width:`calc(100% + ${u.value}px)`}:null);function _(q){if(e.container===!0||document.qScrollPrevented!==!0){const B={position:q.position.top,direction:q.direction,directionChanged:q.directionChanged,inflectionPoint:q.inflectionPoint.top,delta:q.delta.top};p.value=B,e.onScroll!==void 0&&h("scroll",B)}}function U(q){const{height:B,width:F}=q;let R=!1;d.value!==B&&(R=!0,d.value=B,e.onScrollHeight!==void 0&&h("scrollHeight",B),S()),g.value!==F&&(R=!0,g.value=F),R===!0&&e.onResize!==void 0&&h("resize",q)}function T({height:q}){l.value!==q&&(l.value=q,S())}function S(){if(e.container===!0){const q=d.value>l.value?Te():0;u.value!==q&&(u.value=q)}}let b=null;const O={instances:{},view:f(()=>e.view),isContainer:f(()=>e.container),rootRef:i,height:d,containerHeight:l,scrollbarWidth:u,totalWidth:f(()=>g.value+u.value),rows:f(()=>{const q=e.view.toLowerCase().split(" ");return{top:q[0].split(""),middle:q[1].split(""),bottom:q[2].split("")}}),header:pe({size:0,offset:0,space:!1}),right:pe({size:300,offset:0,space:!1}),footer:pe({size:0,offset:0,space:!1}),left:pe({size:300,offset:0,space:!1}),scroll:p,animate(){b!==null?clearTimeout(b):document.body.classList.add("q-body--layout-animate"),b=setTimeout(()=>{b=null,document.body.classList.remove("q-body--layout-animate")},155)},update(q,B,F){O[q][B]=F}};if(Ke(be,O),Te()>0){let q=function(){R=null,ce.classList.remove("hide-scrollbar")},B=function(){if(R===null){if(ce.scrollHeight>a.screen.height)return;ce.classList.add("hide-scrollbar")}else clearTimeout(R);R=setTimeout(q,300)},F=function(oe){R!==null&&oe==="remove"&&(clearTimeout(R),q()),window[`${oe}EventListener`]("resize",B)},R=null;const ce=document.body;I(()=>e.container!==!0?"add":"remove",F),e.container!==!0&&F("add"),Ct(()=>{F("remove")})}return()=>{const q=qt(y.default,[Q(Ht,{onScroll:_}),Q(Ue,{onResize:U})]),B=Q("div",{class:t.value,style:L.value,ref:e.container===!0?void 0:i,tabindex:-1},q);return e.container===!0?Q("div",{class:"q-layout-container overflow-hidden",ref:i},[Q(Ue,{onResize:T}),Q("div",{class:"absolute-full",style:n.value},[Q("div",{class:"scroll",style:w.value},[B])])]):B}}}),st=ue({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:y}){const h=f(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>Q("div",{class:h.value},we(y.default))}}),nt=ue({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:y}){const h=f(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>Q("div",{class:h.value,role:"toolbar"},we(y.default))}}),aa=ue({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:y,emit:h}){const{proxy:{$q:a}}=ye(),i=Pe(be,X);if(i===X)return console.error("QHeader needs to be child of QLayout"),X;const d=C(parseInt(e.heightHint,10)),g=C(!0),p=f(()=>e.reveal===!0||i.view.value.indexOf("H")!==-1||a.platform.is.ios&&i.isContainer.value===!0),l=f(()=>{if(e.modelValue!==!0)return 0;if(p.value===!0)return g.value===!0?d.value:0;const b=d.value-i.scroll.value.position;return b>0?b:0}),u=f(()=>e.modelValue!==!0||p.value===!0&&g.value!==!0),t=f(()=>e.modelValue===!0&&u.value===!0&&e.reveal===!0),L=f(()=>"q-header q-layout__section--marginal "+(p.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(u.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),n=f(()=>{const b=i.rows.value.top,O={};return b[0]==="l"&&i.left.space===!0&&(O[a.lang.rtl===!0?"right":"left"]=`${i.left.size}px`),b[2]==="r"&&i.right.space===!0&&(O[a.lang.rtl===!0?"left":"right"]=`${i.right.size}px`),O});function w(b,O){i.update("header",b,O)}function _(b,O){b.value!==O&&(b.value=O)}function U({height:b}){_(d,b),w("size",b)}function T(b){t.value===!0&&_(g,!0),h("focusin",b)}I(()=>e.modelValue,b=>{w("space",b),_(g,!0),i.animate()}),I(l,b=>{w("offset",b)}),I(()=>e.reveal,b=>{b===!1&&_(g,e.modelValue)}),I(g,b=>{i.animate(),h("reveal",b)}),I(i.scroll,b=>{e.reveal===!0&&_(g,b.direction==="up"||b.position<=e.revealOffset||b.position-b.inflectionPoint<100)});const S={};return i.instances.header=S,e.modelValue===!0&&w("size",d.value),w("space",e.modelValue),w("offset",l.value),Ye(()=>{i.instances.header===S&&(i.instances.header=void 0,w("size",0),w("offset",0),w("space",!1))}),()=>{const b=St(y.default,[]);return e.elevated===!0&&b.push(Q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),b.push(Q(Ue,{debounce:0,onResize:U})),Q("header",{class:L.value,style:n.value,onFocusin:T},b)}}}),la=j({__name:"SearchInput",props:{modelValue:{default:""},dark:{type:Boolean,default:!1},dense:{type:Boolean,default:!1},standout:{type:Boolean,default:!1},inputClass:{default:""},containerClass:{default:""},placeholder:{default:"Search..."},prependIcon:{},searchIcon:{default:"search"},clearIcon:{default:"clear"}},emits:["update:modelValue","search","clear"],setup(e,{emit:y}){const h=e,a=y,i=C(h.modelValue);I(()=>h.modelValue,p=>{i.value=p});const d=p=>{const l=p?.toString()||"";i.value=l,a("update:modelValue",l),a("search",l)},g=()=>{i.value="",a("update:modelValue",""),a("clear")};return(p,l)=>(r(),x(Ze,{dark:p.dark,dense:p.dense,standout:p.standout,modelValue:i.value,"onUpdate:modelValue":[l[0]||(l[0]=u=>i.value=u),d],"input-class":p.inputClass,class:me(p.containerClass),placeholder:p.placeholder},Lt({append:c(()=>[i.value===""?(r(),x(z,{key:0,name:p.searchIcon},null,8,["name"])):(r(),x(z,{key:1,name:p.clearIcon,class:"cursor-pointer",onClick:g},null,8,["name"]))]),_:2},[p.prependIcon?{name:"prepend",fn:c(()=>[o(z,{name:p.prependIcon},null,8,["name"])]),key:"0"}:void 0]),1032,["dark","dense","standout","modelValue","input-class","class","placeholder"]))}}),oa=J(la,[["__scopeId","data-v-8227c020"]]),sa={class:"language-selector"},na={class:"language-selector__flag-icon"},ia={class:"text-h6"},ra={class:"text-h6"},ua=j({__name:"LanguageSelector",props:{mini:{type:Boolean,default:!1},dropdown:{type:Boolean,default:!0},color:{default:"primary"},size:{default:"md"}},setup(e){const y=e,{t:h}=De(),{currentLocale:a,currentLocaleInfo:i,locales:d,switchLocale:g}=jt(),p=f(()=>y.mini?"":`${i.value.flag} ${i.value.nativeName}`),l=t=>{g(t)},u=f(()=>h(W.SETTINGS.LANGUAGE));return(t,L)=>(r(),k("div",sa,[t.dropdown&&t.mini?(r(),x(D,{key:0,color:t.color,size:t.size,flat:"",round:"",dense:"","aria-label":u.value,class:"language-selector__mini-button"},{default:c(()=>[v("span",na,V(m(i).flag),1),o(Gt,{anchor:"top middle",self:"bottom middle",class:"language-selector__mini-menu"},{default:c(()=>[o(re,{class:"language-selector__list"},{default:c(()=>[(r(!0),k(G,null,K(m(d),n=>le((r(),x(ie,{key:n.value,clickable:"",active:m(a)===n.value,"active-class":"text-primary bg-primary-alpha",class:"language-selector__item",onClick:w=>l(n.value)},{default:c(()=>[o(H,{avatar:"",class:"language-selector__flag"},{default:c(()=>[v("span",ia,V(n.flag),1)]),_:2},1024),o(H,{class:"language-selector__text"},{default:c(()=>[o(Z,{class:"language-selector__native"},{default:c(()=>[A(V(n.nativeLabel),1)]),_:2},1024),o(Z,{caption:"",class:"language-selector__display"},{default:c(()=>[A(V(n.label),1)]),_:2},1024)]),_:2},1024),m(a)===n.value?(r(),x(H,{key:0,side:"",class:"language-selector__check"},{default:c(()=>[o(z,{name:m(P).checkCircle,color:"primary"},null,8,["name"])]),_:1})):N("",!0)]),_:2},1032,["active","onClick"])),[[Be]])),128))]),_:1})]),_:1})]),_:1},8,["color","size","aria-label"])):t.dropdown?(r(),x(at,{key:1,label:p.value,color:t.color,size:t.size,icon:t.mini?void 0:m(P).language,flat:t.mini,rounded:!t.mini,"aria-label":u.value,class:"language-selector__dropdown"},{default:c(()=>[o(re,{class:"language-selector__list"},{default:c(()=>[(r(!0),k(G,null,K(m(d),n=>le((r(),x(ie,{key:n.value,clickable:"",active:m(a)===n.value,"active-class":"text-primary bg-primary-alpha",class:"language-selector__item",onClick:w=>l(n.value)},{default:c(()=>[o(H,{avatar:"",class:"language-selector__flag"},{default:c(()=>[v("span",ra,V(n.flag),1)]),_:2},1024),o(H,{class:"language-selector__text"},{default:c(()=>[o(Z,{class:"language-selector__native"},{default:c(()=>[A(V(n.nativeLabel),1)]),_:2},1024),o(Z,{caption:"",class:"language-selector__display"},{default:c(()=>[A(V(n.label),1)]),_:2},1024)]),_:2},1024),m(a)===n.value?(r(),x(H,{key:0,side:"",class:"language-selector__check"},{default:c(()=>[o(z,{name:m(P).checkCircle,color:"primary"},null,8,["name"])]),_:1})):N("",!0)]),_:2},1032,["active","onClick"])),[[Be]])),128))]),_:1})]),_:1},8,["label","color","size","icon","flat","rounded","aria-label"])):(r(),x(Wt,{key:2,rounded:""},{default:c(()=>[(r(!0),k(G,null,K(m(d),n=>(r(),x(D,{key:n.value,label:t.mini?n.flag:`${n.flag} ${n.nativeLabel}`,color:m(a)===n.value?t.color:"grey-6",flat:m(a)!==n.value,size:t.size,"aria-label":`${m(h)(m(W).SETTINGS.LANGUAGE)}: ${n.label}`,onClick:w=>l(n.value)},null,8,["label","color","flat","size","aria-label","onClick"]))),128))]),_:1}))]))}}),it=J(ua,[["__scopeId","data-v-4ef468f6"]]),ca={class:"q-ml-md"},da=j({__name:"AppHeader",props:{showMenuButton:{type:Boolean,default:!1},modelValue:{default:""}},emits:["update:modelValue","toggle-drawer"],setup(e,{emit:y}){const h=e,a=y,i=f(()=>It("courier-logo.svg")),d=C(h.modelValue),g=()=>{a("toggle-drawer")},p=l=>{d.value=l,a("update:modelValue",l)};return(l,u)=>{const t=Qe("router-link");return r(),x(aa,{reveal:""},{default:c(()=>[o(nt,{class:"bg-clcablue",style:{height:"80px"}},{default:c(()=>[l.showMenuButton?(r(),x(D,{key:0,flat:"",round:"",dense:"",icon:"menu",onClick:g,class:"lt-lg"})):N("",!0),o(st,null,{default:c(()=>[o(t,{to:"/",class:"logo-link"},{default:c(()=>[o(tt,{src:i.value,style:{height:"50px","max-width":"200px"},fit:"contain",alt:"The Courier"},null,8,["src"])]),_:1})]),_:1}),o(oa,{modelValue:d.value,"onUpdate:modelValue":[u[0]||(u[0]=L=>d.value=L),p],dark:"",dense:"",standout:"","input-class":"text-right","container-class":"q-ml-md"},null,8,["modelValue"]),v("div",ca,[o(it,{mini:!0,dropdown:!0,color:"white",size:"sm"})])]),_:1})]),_:1})}}}),ma=J(da,[["__scopeId","data-v-21241ed0"]]),je=150,va=ue({name:"QDrawer",inheritAttrs:!1,props:{...zt,...Vt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Tt,"onLayout","miniState"],setup(e,{slots:y,emit:h,attrs:a}){const i=ye(),{proxy:{$q:d}}=i,g=At(e,d),{preventBodyScroll:p}=Pt(),{registerTimeout:l,removeTimeout:u}=Nt(),t=Pe(be,X);if(t===X)return console.error("QDrawer needs to be child of QLayout"),X;let L,n=null,w;const _=C(e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint),U=f(()=>e.mini===!0&&_.value!==!0),T=f(()=>U.value===!0?e.miniWidth:e.width),S=C(e.showIfAbove===!0&&_.value===!1?!0:e.modelValue===!0),b=f(()=>e.persistent!==!0&&(_.value===!0||rt.value===!0));function O(s,$){if(R(),s!==!1&&t.animate(),E(0),_.value===!0){const M=t.instances[fe.value];M?.belowBreakpoint===!0&&M.hide(!1),ee(1),t.isContainer.value!==!0&&p(!0)}else ee(0),s!==!1&&Se(!1);l(()=>{s!==!1&&Se(!0),$!==!0&&h("show",s)},je)}function q(s,$){ce(),s!==!1&&t.animate(),ee(0),E(se.value*T.value),Le(),$!==!0?l(()=>{h("hide",s)},je):u()}const{show:B,hide:F}=Ut({showing:S,hideOnRouteChange:b,handleShow:O,handleHide:q}),{addToHistory:R,removeFromHistory:ce}=Bt(S,F,b),oe={belowBreakpoint:_,hide:F},Y=f(()=>e.side==="right"),se=f(()=>(d.lang.rtl===!0?-1:1)*(Y.value===!0?1:-1)),Oe=C(0),ne=C(!1),xe=C(!1),Fe=C(T.value*se.value),fe=f(()=>Y.value===!0?"left":"right"),$e=f(()=>S.value===!0&&_.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:T.value:0),Ce=f(()=>e.overlay===!0||e.miniToOverlay===!0||t.view.value.indexOf(Y.value?"R":"L")!==-1||d.platform.is.ios===!0&&t.isContainer.value===!0),de=f(()=>e.overlay===!1&&S.value===!0&&_.value===!1),rt=f(()=>e.overlay===!0&&S.value===!0&&_.value===!1),ut=f(()=>"fullscreen q-drawer__backdrop"+(S.value===!1&&ne.value===!1?" hidden":"")),ct=f(()=>({backgroundColor:`rgba(0,0,0,${Oe.value*.4})`})),Me=f(()=>Y.value===!0?t.rows.value.top[2]==="r":t.rows.value.top[0]==="l"),dt=f(()=>Y.value===!0?t.rows.value.bottom[2]==="r":t.rows.value.bottom[0]==="l"),mt=f(()=>{const s={};return t.header.space===!0&&Me.value===!1&&(Ce.value===!0?s.top=`${t.header.offset}px`:t.header.space===!0&&(s.top=`${t.header.size}px`)),t.footer.space===!0&&dt.value===!1&&(Ce.value===!0?s.bottom=`${t.footer.offset}px`:t.footer.space===!0&&(s.bottom=`${t.footer.size}px`)),s}),vt=f(()=>{const s={width:`${T.value}px`,transform:`translateX(${Fe.value}px)`};return _.value===!0?s:Object.assign(s,mt.value)}),ft=f(()=>"q-drawer__content fit "+(t.isContainer.value!==!0?"scroll":"overflow-auto")),ht=f(()=>`q-drawer q-drawer--${e.side}`+(xe.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(g.value===!0?" q-drawer--dark q-dark":"")+(ne.value===!0?" no-transition":S.value===!0?"":" q-layout--prevent-focus")+(_.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${U.value===!0?"mini":"standard"}`+(Ce.value===!0||de.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Me.value===!0?" q-drawer--top-padding":""))),pt=f(()=>{const s=d.lang.rtl===!0?e.side:fe.value;return[[ze,bt,void 0,{[s]:!0,mouse:!0}]]}),gt=f(()=>{const s=d.lang.rtl===!0?fe.value:e.side;return[[ze,Re,void 0,{[s]:!0,mouse:!0}]]}),_t=f(()=>{const s=d.lang.rtl===!0?fe.value:e.side;return[[ze,Re,void 0,{[s]:!0,mouse:!0,mouseAllDir:!0}]]});function qe(){wt(_,e.behavior==="mobile"||e.behavior!=="desktop"&&t.totalWidth.value<=e.breakpoint)}I(_,s=>{s===!0?(L=S.value,S.value===!0&&F(!1)):e.overlay===!1&&e.behavior!=="mobile"&&L!==!1&&(S.value===!0?(E(0),ee(0),Le()):B(!1))}),I(()=>e.side,(s,$)=>{t.instances[$]===oe&&(t.instances[$]=void 0,t[$].space=!1,t[$].offset=0),t.instances[s]=oe,t[s].size=T.value,t[s].space=de.value,t[s].offset=$e.value}),I(t.totalWidth,()=>{(t.isContainer.value===!0||document.qScrollPrevented!==!0)&&qe()}),I(()=>e.behavior+e.breakpoint,qe),I(t.isContainer,s=>{S.value===!0&&p(s!==!0),s===!0&&qe()}),I(t.scrollbarWidth,()=>{E(S.value===!0?0:void 0)}),I($e,s=>{te("offset",s)}),I(de,s=>{h("onLayout",s),te("space",s)}),I(Y,()=>{E()}),I(T,s=>{E(),Ie(e.miniToOverlay,s)}),I(()=>e.miniToOverlay,s=>{Ie(s,T.value)}),I(()=>d.lang.rtl,()=>{E()}),I(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(yt(),t.animate())}),I(U,s=>{h("miniState",s)});function E(s){s===void 0?Ee(()=>{s=S.value===!0?0:T.value,E(se.value*s)}):(t.isContainer.value===!0&&Y.value===!0&&(_.value===!0||Math.abs(s)===T.value)&&(s+=se.value*t.scrollbarWidth.value),Fe.value=s)}function ee(s){Oe.value=s}function Se(s){const $=s===!0?"remove":t.isContainer.value!==!0?"add":"";$!==""&&document.body.classList[$]("q-body--drawer-toggle")}function yt(){n!==null&&clearTimeout(n),i.proxy&&i.proxy.$el&&i.proxy.$el.classList.add("q-drawer--mini-animate"),xe.value=!0,n=setTimeout(()=>{n=null,xe.value=!1,i?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function bt(s){if(S.value!==!1)return;const $=T.value,M=_e(s.distance.x,0,$);if(s.isFinal===!0){M>=Math.min(75,$)===!0?B():(t.animate(),ee(0),E(se.value*$)),ne.value=!1;return}E((d.lang.rtl===!0?Y.value!==!0:Y.value)?Math.max($-M,0):Math.min(0,M-$)),ee(_e(M/$,0,1)),s.isFirst===!0&&(ne.value=!0)}function Re(s){if(S.value!==!0)return;const $=T.value,M=s.direction===e.side,he=(d.lang.rtl===!0?M!==!0:M)?_e(s.distance.x,0,$):0;if(s.isFinal===!0){Math.abs(he)<Math.min(75,$)===!0?(t.animate(),ee(1),E(0)):F(),ne.value=!1;return}E(se.value*he),ee(_e(1-he/$,0,1)),s.isFirst===!0&&(ne.value=!0)}function Le(){p(!1),Se(!0)}function te(s,$){t.update(e.side,s,$)}function wt(s,$){s.value!==$&&(s.value=$)}function Ie(s,$){te("size",s===!0?e.miniWidth:$)}return t.instances[e.side]=oe,Ie(e.miniToOverlay,T.value),te("space",de.value),te("offset",$e.value),e.showIfAbove===!0&&e.modelValue!==!0&&S.value===!0&&e["onUpdate:modelValue"]!==void 0&&h("update:modelValue",!0),ve(()=>{h("onLayout",de.value),h("miniState",U.value),L=e.showIfAbove===!0;const s=()=>{(S.value===!0?O:q)(!1,!0)};if(t.totalWidth.value!==0){Ee(s);return}w=I(t.totalWidth,()=>{w(),w=void 0,S.value===!1&&e.showIfAbove===!0&&_.value===!1?B(!1):s()})}),Ye(()=>{w?.(),n!==null&&(clearTimeout(n),n=null),S.value===!0&&Le(),t.instances[e.side]===oe&&(t.instances[e.side]=void 0,te("size",0),te("offset",0),te("space",!1))}),()=>{const s=[];_.value===!0&&(e.noSwipeOpen===!1&&s.push(le(Q("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),pt.value)),s.push(He("div",{ref:"backdrop",class:ut.value,style:ct.value,"aria-hidden":"true",onClick:F},void 0,"backdrop",e.noSwipeBackdrop!==!0&&S.value===!0,()=>_t.value)));const $=U.value===!0&&y.mini!==void 0,M=[Q("div",{...a,key:""+$,class:[ft.value,a.class]},$===!0?y.mini():we(y.default))];return e.elevated===!0&&S.value===!0&&M.push(Q("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),s.push(He("aside",{ref:"content",class:ht.value,style:vt.value},M,"contentclose",e.noSwipeClose!==!0&&_.value===!0,()=>gt.value)),Q("div",{class:"q-drawer-container"},s)}}}),fa=j({__name:"NavigationItem",props:{item:{},mini:{type:Boolean}},setup(e){const y=ke(),h=f(()=>["nav-item","nav-menu-font","q-ml-md",{"dark-mode":y.isDarkMode}]);return(a,i)=>le((r(),x(ie,{to:a.item.link,clickable:"","exact-active-class":"nav-item-active",class:me(h.value)},{default:c(()=>[o(H,{avatar:""},{default:c(()=>[o(z,{name:a.item.icon},null,8,["name"])]),_:1}),a.mini?N("",!0):(r(),x(H,{key:0},{default:c(()=>[o(Z,null,{default:c(()=>[A(V(a.item.title),1)]),_:1})]),_:1})),a.mini?(r(),x(lt,{key:1,anchor:"center right",self:"center left",offset:[10,0]},{default:c(()=>[A(V(a.item.title),1)]),_:1})):N("",!0)]),_:1},8,["to","class"])),[[Ne]])}}),Ae=J(fa,[["__scopeId","data-v-c3909adf"]]);function ha(){const e=C(null),y=C(!1),h=C(null),a=f(()=>!!e.value),i=f(()=>{if(!e.value)return"";const l=e.value;return l.month&&l.year?`${["January","February","March","April","May","June","July","August","September","October","November","December"][l.month-1]} ${l.year}`:l.season&&l.year?`${l.season.charAt(0).toUpperCase()+l.season.slice(1)} ${l.year}`:l.year?l.year.toString():l.publicationDate?new Date(l.publicationDate).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"Unknown Date"}),d=f(()=>{if(!e.value)return null;const l=e.value;return l.storage?.thumbnail?.downloadUrl?l.storage.thumbnail.downloadUrl:l.thumbnailUrl?l.thumbnailUrl:l.filename?`/thumbnails/${l.filename.replace(".pdf","")}-page-1.jpg`:null}),g=async()=>{y.value=!0,h.value=null;try{ae.debug("ðŸ”„ [LATEST] Fetching latest published newsletter...");const l=await ot.getAllNewsletterMetadata();if(l.length>0){const u=l[0];u&&(e.value=u,ae.info(`ðŸ“° [LATEST] Found latest issue: ${u.title}`))}else ae.warn("ðŸ“° [LATEST] No published newsletters found"),e.value=null}catch(l){const u=l instanceof Error?l.message:"Unknown error";h.value=`Failed to fetch latest newsletter: ${u}`,ae.error("âŒ [LATEST] Error fetching latest newsletter:",l)}finally{y.value=!1}},p=()=>{g()};return ve(()=>{g()}),{latestNewsletter:Ve(e),isLoading:Ve(y),error:Ve(h),hasLatestIssue:a,formattedDate:i,thumbnailUrl:d,refreshLatest:p}}const pa={class:"latest-issue-section q-mt-md"},ga={key:0,class:"q-pa-md text-center"},_a={key:0,class:"text-caption text-grey-5 q-mt-xs"},ya={key:1,class:"q-pa-md text-center"},ba={key:0,class:"text-caption text-warning q-mt-xs"},wa={key:2,class:"latest-issue-card"},ka={class:"text-center q-pa-sm"},xa={key:0,class:"text-caption text-grey-4 q-px-md q-pb-sm text-weight-medium"},$a={class:"thumbnail-container"},Ca={class:"thumbnail-placeholder"},qa={key:1,class:"thumbnail-placeholder"},Sa={class:"text-caption text-white q-mb-xs"},La={key:1,class:"mini-mode-container"},Ia={class:"text-weight-medium"},Ta={class:"text-caption"},Va={key:0,class:"text-caption"},za={key:3,class:"q-pa-md text-center"},Aa={key:0,class:"text-caption text-grey-6 q-mt-xs"},Je="https://www.canva.com/design/DAGvRIZSh5E/BceK20Jwt5tDRtCOFr_tfA/edit?utm_content=DAGvRIZSh5E&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton",Na=j({__name:"CurrentProject",props:{mini:{type:Boolean}},setup(e){const y=Qt(),h=Xe(),{latestNewsletter:a,isLoading:i,error:d,hasLatestIssue:g,formattedDate:p,thumbnailUrl:l}=ha(),{getContentIcon:u}=Kt(),t=()=>{if(a.value)if(a.value.downloadUrl)try{ae.info("Opening latest newsletter:",a.value.title),window.open(a.value.downloadUrl,"_blank")}catch(n){ae.error("Error opening newsletter:",n),h.notify({type:"negative",message:"Failed to open newsletter"})}else y.push(`/archive/${a.value.id}`)},L=()=>{try{ae.info("Opening latest project:",Je),window.open(Je,"_blank")}catch(n){ae.error("Error opening project:",n),h.notify({type:"negative",message:"Failed to open project"})}};return(n,w)=>(r(),k("div",pa,[m(i)?(r(),k("div",ga,[o(Dt,{size:"20px",color:"grey-5"}),n.mini?N("",!0):(r(),k("div",_a,"Loading..."))])):m(d)?(r(),k("div",ya,[o(z,{name:m(P).warning,color:"warning",size:"20px"},null,8,["name"]),n.mini?N("",!0):(r(),k("div",ba," Error loading latest issue "))])):m(g)?(r(),k("div",wa,[n.mini?(r(),k("div",La,[o(D,{color:"primary",icon:m(u)("newsletter").icon,round:"",size:"sm",onClick:t,class:"latest-issue-mini-btn"},{default:c(()=>[o(lt,{anchor:"center right",self:"center left",offset:[10,0]},{default:c(()=>[v("div",Ia,V(m(a)?.title),1),v("div",Ta,V(m(p)),1),m(a)?.pageCount?(r(),k("div",Va,V(m(a).pageCount)+" pages ",1)):N("",!0)]),_:1})]),_:1},8,["icon"])])):(r(),x(et,{key:0,flat:"",class:"bg-primary cursor-pointer latest-issue-expanded-card"},{default:c(()=>[v("div",ka,[n.mini?N("",!0):(r(),k("div",xa," CURRENT PROJECT ")),v("div",$a,[m(l)?(r(),x(tt,{key:0,src:m(l),alt:`${m(a)?.title} thumbnail`,class:"thumbnail-image",ratio:.75,fit:"cover",loading:"lazy"},{error:c(()=>[v("div",Ca,[o(z,{name:m(P).filePdf,color:"red",size:"20px"},null,8,["name"])])]),_:1},8,["src","alt"])):(r(),k("div",qa,[o(z,{name:m(P).filePdf,color:"red",size:"20px"},null,8,["name"])]))]),v("div",Sa,[o(D,{onClick:Ot(L,["stop"]),color:"accent",class:"full-width line-clamp-2",size:"xs"},{default:c(()=>[o(z,{name:m(P).tools,class:"q-mr-sm"},null,8,["name"]),w[0]||(w[0]=A("Canva ",-1))]),_:1,__:[0]})])])]),_:1}))])):(r(),k("div",za,[o(z,{name:m(u)("newsletter").icon,color:"grey-6",size:"20px"},null,8,["name"]),n.mini?N("",!0):(r(),k("div",Aa," No issues available "))]))]))}}),Ua=J(Na,[["__scopeId","data-v-62e889e2"]]),Ba=()=>{const{t:e}=De(),y=C(!1),h=C(!1),a=async()=>{const g=We.getCurrentUser();if(y.value=!!g,g)try{const p=await ot.getUserProfile(g.uid);h.value=!!(p&&p.role==="admin")}catch{h.value=!1}else h.value=!1};ve(()=>{a(),We.onAuthStateChange(()=>{a()})});const i=f(()=>[{title:e(W.NAVIGATION.COMMUNITY),icon:"mdi-newspaper",link:"/community"},{title:e(W.NAVIGATION.CALENDAR),icon:"mdi-calendar-month",link:"/calendar"},{title:e(W.NAVIGATION.ARCHIVE),icon:"mdi-bookshelf",link:"/archive"},{title:e(W.NAVIGATION.CONTRIBUTE),icon:"mdi-pencil",link:"/contribute"},{title:e(W.NAVIGATION.ABOUT),icon:"mdi-comment-question",link:"/about"}]);return{navigationItems:f(()=>i.value),refreshNavigation:a}},Pa={class:"column no-wrap full-height"},Qa={class:"flex justify-end q-pa-sm"},Da={class:"bottom-section"},Oa={key:0,class:"q-pa-sm"},Fa={key:1,class:"q-pa-sm"},Ma={key:0,class:"bg-dark text-white rounded-borders q-pa-sm"},Ra={class:"row items-center"},Ea=["src"],Ha={class:"col"},Ga={class:"text-caption text-weight-bold"},Wa={class:"text-caption text-grey-4"},ja={key:1,class:"text-center"},Ja=["src"],Ka={key:2},Ya={class:"q-pa-sm"},Za=j({__name:"AppNavigation",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:y}){const h=e,a=y,{t:i}=De(),{navigationItems:d}=Ba(),{sideMenuCollapsed:g,setSideMenuCollapsed:p}=Yt(),{auth:l}=Zt(),u=C(g.value);I(g,_=>{u.value=_}),I(u,_=>{p(_)});const t=f(()=>({title:i(W.NAVIGATION.SETTINGS),icon:P.cog,link:"/settings"})),L=f(()=>{if(!l.isAuthenticated.value)return[];const _=[];return _.push({title:i(W.NAVIGATION.ADMIN),icon:P.shield,link:"/admin"}),_}),n=()=>{u.value=!u.value},w=f({get:()=>h.modelValue,set:_=>a("update:modelValue",_)});return(_,U)=>(r(),x(va,{modelValue:w.value,"onUpdate:modelValue":U[2]||(U[2]=T=>w.value=T),"show-if-above":"",class:"bg-dark navigation-drawer",mini:u.value,width:280,"mini-width":60},{default:c(()=>[v("div",Pa,[v("div",Qa,[o(D,{flat:"",round:"",dense:"",icon:u.value?m(P).chevronRight:m(P).chevronLeft,onClick:n,class:"text-grey-6",size:"sm"},null,8,["icon"])]),o(re,{class:"q-mt-sm"},{default:c(()=>[(r(!0),k(G,null,K(m(d),T=>(r(),x(Ae,{key:T.title,item:T,mini:u.value},null,8,["item","mini"]))),128))]),_:1}),o(Ua,{mini:u.value},null,8,["mini"]),o(Jt),v("div",Da,[m(l).isAuthenticated.value?(r(),k("div",Fa,[u.value?(r(),k("div",ja,[o(Ge,{size:"32px",class:"q-mb-xs"},{default:c(()=>[m(l).currentUser.value?.photoURL?(r(),k("img",{key:0,src:m(l).currentUser.value.photoURL},null,8,Ja)):(r(),x(z,{key:1,name:m(P).account},null,8,["name"]))]),_:1}),o(D,{onClick:m(l).signOut,flat:"",icon:m(P).logout,round:"",size:"xs",class:"text-grey-4"},null,8,["onClick","icon"])])):(r(),k("div",Ma,[v("div",Ra,[o(Ge,{size:"24px",class:"q-mr-sm"},{default:c(()=>[m(l).currentUser.value?.photoURL?(r(),k("img",{key:0,src:m(l).currentUser.value.photoURL},null,8,Ea)):(r(),x(z,{key:1,name:m(P).account},null,8,["name"]))]),_:1}),v("div",Ha,[v("div",Ga,V(m(l).currentUser.value?.displayName||"User"),1),v("div",Wa,V(m(l).currentUser.value?.email),1)])]),o(D,{onClick:m(l).signOut,flat:"",icon:m(P).logout,label:m(i)(m(W).AUTH.SIGN_OUT),size:"xs",class:"full-width q-mt-xs text-grey-4"},null,8,["onClick","icon","label"])]))])):(r(),k("div",Oa,[u.value?(r(),x(D,{key:1,onClick:U[1]||(U[1]=()=>m(l).signIn("google")),color:"primary",icon:m(P).login,loading:m(l).isLoading.value,round:"",size:"sm"},null,8,["icon","loading"])):(r(),x(D,{key:0,onClick:U[0]||(U[0]=()=>m(l).signIn("google")),color:"primary",icon:m(P).login,label:m(i)(m(W).AUTH.SIGN_IN),loading:m(l).isLoading.value,class:"full-width",size:"sm"},null,8,["icon","label","loading"]))])),m(l).isAuthenticated.value?(r(),k("div",Ka,[(r(!0),k(G,null,K(L.value,T=>(r(),x(Ae,{key:T.title,item:T,mini:u.value},null,8,["item","mini"]))),128))])):N("",!0),o(Ae,{item:t.value,mini:u.value},null,8,["item","mini"]),v("div",Ya,[o(it,{mini:u.value,dropdown:!0,size:"sm"},null,8,["mini"])])])])]),_:1},8,["modelValue","mini"]))}}),Xa=J(Za,[["__scopeId","data-v-217b3d8e"]]),el={class:"q-pa-lg"},tl={class:"row q-col-gutter-lg"},al={class:"col-12 col-md-3"},ll={class:"text-h6 q-mb-md"},ol={class:"text-caption"},sl={class:"col-12 col-sm-6 col-md-2"},nl={class:"col-12 col-sm-6 col-md-2"},il={class:"col-12 col-md-3"},rl={class:"row"},ul={class:"col"},cl={class:"col-12 col-md-2"},dl={class:"text-body2 q-mb-sm"},ml={class:"text-body2 q-mb-sm"},vl={class:"text-body2"},fl={class:"row items-center justify-between"},hl={class:"col-12 col-md-6"},pl={class:"text-body2"},gl={class:"text-caption q-mt-xs"},_l={key:0,class:"text-grey-4"},yl={class:"col-12 col-md-6 text-right"},bl={class:""},wl=j({__name:"AppFooter",setup(e){const y=ke(),h=C(""),a=new Date().getFullYear(),i=f(()=>y.isDarkMode?"bg-dark text-white":"bg-grey text-white"),d=[{label:"Community Content",to:"/community"},{label:"Issue Archive",to:"/archive"},{label:"Interactive Map",to:"/map"},{label:"Classifieds",to:"/community?type=classifieds"}],g=[{label:"About & Contact",to:"/about"},{label:"Contribute",to:"/contribute"}],p=[{label:"Privacy Policy",to:"/privacy"},{label:"Terms of Service",to:"/terms"},{label:"Accessibility",to:"/accessibility"}],l=[{icon:"mdi-facebook",url:"#",label:"Facebook"},{icon:"mdi-twitter",url:"#",label:"Twitter"},{icon:"mdi-instagram",url:"#",label:"Instagram"},{icon:"mdi-email",url:"mailto:info@conashaughlakes.com",label:"Email"}];return(u,t)=>{const L=Qe("router-link");return r(),k("footer",{class:me([i.value,"footer-container"])},[v("div",el,[v("div",tl,[v("div",al,[v("div",ll,[o(z,{name:"mdi-newspaper",size:"sm",class:"q-mr-sm"}),t[1]||(t[1]=A(" The Courier ",-1))]),t[3]||(t[3]=v("p",{class:"text-body2 q-mb-md"}," Connecting the Conashaugh Lakes community through local news, events, and shared stories since our founding. ",-1)),v("div",ol,[o(z,{name:"mdi-map-marker",size:"xs",class:"q-mr-xs"}),t[2]||(t[2]=A(" Conashaugh Lakes Community ",-1))])]),v("div",sl,[t[4]||(t[4]=v("div",{class:"text-subtitle1 q-mb-md"},"Quick Links",-1)),o(re,{dense:"",class:"no-padding"},{default:c(()=>[(r(),k(G,null,K(d,n=>le(o(ie,{key:n.label,to:n.to,clickable:"",class:"q-pa-xs"},{default:c(()=>[o(H,null,{default:c(()=>[o(Z,{class:"text-body2"},{default:c(()=>[A(V(n.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]),[[Ne]])),64))]),_:1})]),v("div",nl,[t[5]||(t[5]=v("div",{class:"text-subtitle1 q-mb-md"},"Community",-1)),o(re,{dense:"",class:"no-padding"},{default:c(()=>[(r(),k(G,null,K(g,n=>le(o(ie,{key:n.label,to:n.to,clickable:"",class:"q-pa-xs"},{default:c(()=>[o(H,null,{default:c(()=>[o(Z,{class:"text-body2"},{default:c(()=>[A(V(n.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["to"]),[[Ne]])),64))]),_:1})]),v("div",il,[t[6]||(t[6]=v("div",{class:"text-subtitle1 q-mb-md"},"Stay Connected",-1)),t[7]||(t[7]=v("p",{class:"text-body2 q-mb-md"}," Subscribe to receive the latest issues and community updates. ",-1)),v("div",rl,[v("div",ul,[o(Ze,{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=n=>h.value=n),dense:"",outlined:"",placeholder:"Enter your email","bg-color":"white",dark:"",class:"text-dark"},{append:c(()=>[o(D,{icon:"mdi-send",color:"primary",flat:"",dense:"",onClick:()=>{}})]),_:1},8,["modelValue"])])])]),v("div",cl,[t[11]||(t[11]=v("div",{class:"text-subtitle1 q-mb-md"},"Contact",-1)),v("div",dl,[o(z,{name:"mdi-email",size:"xs",class:"q-mr-xs"}),t[8]||(t[8]=A(" info@conashaughlakes.com ",-1))]),v("div",ml,[o(z,{name:"mdi-phone",size:"xs",class:"q-mr-xs"}),t[9]||(t[9]=A(" (570) 555-0123 ",-1))]),v("div",vl,[o(z,{name:"mdi-clock",size:"xs",class:"q-mr-xs"}),t[10]||(t[10]=A(" Published Seasonally ",-1))])])]),o(Ft,{class:"q-my-lg",dark:""}),v("div",fl,[v("div",hl,[v("div",pl," Â© "+V(m(a))+" The Courier @ Conashaugh Lakes. All rights reserved. ",1),v("div",gl,[(r(),k(G,null,K(p,(n,w)=>(r(),k(G,{key:n.label},[o(L,{to:n.to,class:"text-grey-4 text-decoration-none"},{default:c(()=>[A(V(n.label),1)]),_:2},1032,["to"]),w<p.length-1?(r(),k("span",_l," â€¢ ")):N("",!0)],64))),64))])]),v("div",yl,[t[12]||(t[12]=v("div",{class:"text-body2 q-mb-sm"},"Follow Us",-1)),v("div",bl,[(r(),k(G,null,K(l,n=>o(D,{key:n.label,icon:n.icon,href:n.url,target:"_blank",flat:"",round:"",size:"sm",color:"white","aria-label":n.label},null,8,["icon","href","aria-label"])),64))])])]),t[13]||(t[13]=v("div",{class:"text-center q-mt-lg"},[v("div",{class:"text-caption text-grey-4"},[A(" The Courier is a community-driven publication serving the residents of Conashaugh Lakes. "),v("br"),A(" We welcome submissions, feedback, and community involvement. ")])],-1))])],2)}}}),kl=J(wl,[["__scopeId","data-v-1e981322"]]),xl={class:"col"},$l={class:"col-auto"},Cl=j({__name:"BaseLayout",props:{viewConfig:{default:"hHh LpR fFf"},showHeader:{type:Boolean,default:!0},showNavigation:{type:Boolean,default:!0},showMenuButton:{type:Boolean,default:!0},search:{default:""}},emits:["update:search"],setup(e,{emit:y}){const h=e,a=y,i=ke(),d=C(!1);ve(()=>{i.loadInitialData()});const g=f({get:()=>h.search,set:u=>a("update:search",u)}),p=f(()=>i.isDarkMode?"bg-dark-page":"bg-white"),l=()=>{d.value=!d.value};return(u,t)=>(r(),x(ta,{view:u.viewConfig,class:"main-layout"},{default:c(()=>[ge(u.$slots,"header",{},()=>[u.showHeader?(r(),x(ma,{key:0,modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=L=>g.value=L),"show-menu-button":!!u.showMenuButton,onToggleDrawer:l},null,8,["modelValue","show-menu-button"])):N("",!0)],!0),ge(u.$slots,"navigation",{},()=>[u.showNavigation?(r(),x(Xa,{key:0,modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=L=>d.value=L)},null,8,["modelValue"])):N("",!0)],!0),o(ea,{class:me([p.value,"main-content"])},{default:c(()=>[o(kt,{class:"flex column"},{default:c(()=>[v("div",xl,[ge(u.$slots,"default",{},void 0,!0)]),v("div",$l,[ge(u.$slots,"footer",{},()=>[o(kl)],!0)])]),_:3})]),_:3},8,["class"])]),_:3},8,["view"]))}}),ql=J(Cl,[["__scopeId","data-v-10e862dd"]]),Sl={class:"pdf-viewer-container"},Ll={key:0,class:"loading-container"},Il={key:1,class:"error-container"},Tl={class:"text-body2 q-mt-sm"},Vl={class:"viewer-element"},zl=["src"],Al=j({__name:"PdfViewer",props:{documentUrl:{}},emits:["ready","error"],setup(e,{expose:y,emit:h}){const a=e,i=h,d=C(null),g=C(!0),p=C(null),l=f(()=>a.documentUrl?a.documentUrl:"");function u(){if(!a.documentUrl){p.value="No document URL provided",g.value=!1;return}g.value=!0,p.value=null,console.log("ðŸ” [PdfViewer] Loading PDF:",a.documentUrl)}function t(){console.log("âœ… [PdfViewer] PDF loaded successfully"),g.value=!1,p.value=null,i("ready",!0)}function L(){console.error("âŒ [PdfViewer] PDF load error"),p.value="Failed to load PDF document",g.value=!1,i("error","Failed to load PDF document")}return I(()=>a.documentUrl,n=>{n&&(console.log("ðŸ”„ [PdfViewer] Document URL changed to:",n),u())}),ve(()=>{a.documentUrl&&u()}),y({loadPdf:u}),(n,w)=>(r(),k("div",Sl,[g.value?(r(),k("div",Ll,[o(Xt,{size:"xl",color:"primary"}),w[0]||(w[0]=v("div",{class:"text-h6 q-mt-md"},"Loading PDF...",-1))])):N("",!0),p.value?(r(),k("div",Il,[o(z,{name:"mdi-alert-circle",size:"3em",color:"negative"}),w[1]||(w[1]=v("div",{class:"text-h6 q-mt-md text-negative"},"Error Loading PDF",-1)),v("div",Tl,V(p.value),1),o(D,{color:"primary",label:"Retry",icon:"mdi-refresh",onClick:u,class:"q-mt-md"})])):N("",!0),le(v("div",Vl,[v("iframe",{ref_key:"pdfFrame",ref:d,src:l.value,width:"100%",height:"100%",frameborder:"0",onLoad:t,onError:L},null,40,zl)],512),[[Mt,!g.value&&!p.value]])]))}}),Nl=J(Al,[["__scopeId","data-v-23d865a1"]]),Ul={key:0,class:"absolute-center text-center"},Bl={class:"q-mt-sm text-body2"},Pl=j({__name:"GlobalPdfViewer",setup(e){const y=Xe(),h=ke(),a=C(!1),i=C(null),d=C(null),g=()=>{a.value=!1,i.value=null,d.value=null},p=n=>{i.value=n,d.value=null},l=()=>{d.value=null},u=n=>{d.value=n,y.notify({message:"Error loading PDF viewer",caption:n,type:"negative",icon:"mdi-alert"})},t=()=>{i.value&&p(i.value)},L=f(()=>h.archivedIssues);return(n,w)=>(r(),x(Rt,{modelValue:a.value,"onUpdate:modelValue":w[0]||(w[0]=_=>a.value=_),maximized:""},{default:c(()=>[o(et,null,{default:c(()=>[o(nt,{class:"bg-primary"},{default:c(()=>[o(st,null,{default:c(()=>[o(z,{name:"mdi-file-pdf-box",class:"q-mr-sm"}),A(" "+V(i.value?.title),1)]),_:1}),L.value.length>1?(r(),x(at,{key:0,color:"white","text-color":"primary",label:"Switch Document",icon:"mdi-swap-horizontal",class:"q-mr-md"},{default:c(()=>[o(re,null,{default:c(()=>[(r(!0),k(G,null,K(L.value,_=>le((r(),x(ie,{key:_?.id||"",clickable:"",onClick:U=>p(_),class:me({"bg-grey":i.value?.id===_.id})},{default:c(()=>[o(H,null,{default:c(()=>[o(Z,null,{default:c(()=>[A(V(_.title),1)]),_:2},1024),o(Z,{caption:""},{default:c(()=>[A(V(_.date)+" â€¢ "+V(_.pages)+" pages",1)]),_:2},1024)]),_:2},1024),i.value?.id===_.id?(r(),x(H,{key:0,side:""},{default:c(()=>[o(z,{name:"mdi-check",color:"positive"})]),_:1})):N("",!0)]),_:2},1032,["onClick","class"])),[[Be]])),128))]),_:1})]),_:1})):N("",!0),o(D,{flat:"",icon:"mdi-close",onClick:g})]),_:1}),o(Et,{class:"q-pa-none",style:{height:"calc(100vh - 50px)"}},{default:c(()=>[d.value?(r(),k("div",Ul,[o(z,{name:"mdi-alert-circle",size:"64px",color:"negative"}),w[1]||(w[1]=v("div",{class:"q-mt-md text-h6 text-negative"},"Error Loading PDF",-1)),v("div",Bl,V(d.value),1),o(D,{class:"q-mt-md",color:"primary",label:"Try Again",onClick:t,outline:""})])):N("",!0),i.value&&!d.value?(r(),x(Nl,{"document-url":i.value?.url||"",key:i.value?.id||"",onReady:l,onError:u},null,8,["document-url"])):N("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Ql=J(Pl,[["__scopeId","data-v-57c26844"]]),Dl=j({__name:"MainLayout",setup(e){const y=C("");return(h,a)=>{const i=Qe("router-view");return r(),x(ql,{search:y.value,"onUpdate:search":a[0]||(a[0]=d=>y.value=d)},{default:c(()=>[o(i),o(Ql)]),_:1},8,["search"])}}}),_o=J(Dl,[["__scopeId","data-v-21182196"]]);export{_o as default};
