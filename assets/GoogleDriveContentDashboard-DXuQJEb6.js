import{k as H,U as K,g as J,W as X,c as S,h as w,n as Q,d as Y,r as u,o as Z,I as p,M as s,J as i,a5 as e,f as t,P as q,a7 as a,a2 as r,N as c,a4 as x,a9 as V,F as N,R as v,a3 as d,a6 as f,$ as ee,ae as te,K as ne,ag as se,an as le,am as G}from"./index-DDm66URI.js";import{Q as oe}from"./QSpace-RdkjzttB.js";import{Q as re,a as $,b as A}from"./QItem-DDt1hfY7.js";import{Q as ae}from"./QList-Dyy8tMi-.js";import{Q as z}from"./QExpansionItem-8KVNpwAN.js";import{Q as ie,u as de}from"./use-quasar-DnrUhEV4.js";import{C as ue}from"./ClosePopup-DWJ-Oc9i.js";import{_ as ce}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QSlideTransition-XGKoz7st.js";const L=H({name:"QBanner",props:{...K,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(m,{slots:h}){const{proxy:{$q:y}}=J(),F=X(m,y),b=S(()=>"q-banner row items-center"+(m.dense===!0?" q-banner--dense":"")+(F.value===!0?" q-banner--dark q-dark":"")+(m.rounded===!0?" rounded-borders":"")),C=S(()=>`q-banner__actions row items-center justify-end col-${m.inlineActions===!0?"auto":"all"}`);return()=>{const k=[w("div",{class:"q-banner__avatar col-auto row items-center self-start"},Q(h.avatar)),w("div",{class:"q-banner__content col text-body2"},Q(h.default))],g=Q(h.action);return g!==void 0&&k.push(w("div",{class:C.value},g)),w("div",{class:b.value+(m.inlineActions===!1&&g!==void 0?" q-banner--top-padding":""),role:"alert"},k)}}}),fe={class:"row justify-center"},me={class:"col-12 col-lg-10"},ge={class:"text-h4 q-mb-md text-center"},_e={class:"text-h6 q-mb-md"},pe={class:"row q-gutter-md"},ve={class:"text-subtitle2"},he={class:"text-caption text-grey-7"},be={class:"text-caption text-grey-6 q-mt-xs"},xe={class:"q-gutter-sm text-center"},ye={class:"text-h6"},Ce={key:0,class:"text-center q-pa-lg text-grey-6"},ke={key:1},we={class:"text-body2 q-mb-md"},qe={class:"q-gutter-xs"},Fe={class:"text-h6 q-mb-md"},De=Y({__name:"GoogleDriveContentDashboard",setup(m){const h=de(),y=u(!1),F=u(null),b=u(null),C=u(null),k=u({}),g=u(!1),M=u(null),D=u([]);Z(()=>{b.value="Google API key not configured in environment variables"});const O=async()=>{},E=async()=>{},R=async(n,l)=>{},B=n=>{n.webViewLink&&window.open(n.webViewLink,"_blank")},T=n=>{h.dialog({title:"File Information",message:`
      <strong>Name:</strong> ${n.name}<br>
      <strong>Type:</strong> ${P(n.mimeType)}<br>
      <strong>Created:</strong> ${I(n.createdTime)}<br>
      <strong>Modified:</strong> ${I(n.modifiedTime)}<br>
      ${n.size?`<strong>Size:</strong> ${W(n.size)}<br>`:""}
      <strong>ID:</strong> ${n.id}
    `,html:!0})},U=n=>n.includes("pdf")?"picture_as_pdf":n.includes("image")?"image":n.includes("video")?"movie":n.includes("folder")?"folder":n.includes("document")?"description":n.includes("spreadsheet")?"table_chart":n.includes("presentation")?"slideshow":"insert_drive_file",j=n=>n.includes("pdf")?"red":n.includes("image")?"purple":n.includes("video")?"indigo":n.includes("folder")?"orange":n.includes("document")?"blue":n.includes("spreadsheet")?"green":"grey",P=n=>n.includes("pdf")?"PDF Document":n.includes("image")?"Image":n.includes("video")?"Video":n.includes("document")?"Document":n.includes("spreadsheet")?"Spreadsheet":n.includes("presentation")?"Presentation":"File",I=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),W=n=>{const l=parseInt(n);return l<1024?`${l} B`:l<1024*1024?`${(l/1024).toFixed(1)} KB`:l<1024*1024*1024?`${(l/(1024*1024)).toFixed(1)} MB`:`${(l/(1024*1024*1024)).toFixed(1)} GB`};return(n,l)=>(i(),p(ie,{class:"q-pa-lg"},{default:s(()=>[e("div",fe,[e("div",me,[t(f,null,{default:s(()=>[t(a,null,{default:s(()=>[e("div",ge,[t(c,{name:"cloud",class:"q-mr-sm",color:"primary"}),l[1]||(l[1]=r(" Conashaugh Courier Content Management ",-1))]),l[2]||(l[2]=e("p",{class:"text-body1 text-center text-grey-7 q-mb-lg"}," Direct access to publicly shared Google Drive content without authentication. This system demonstrates how to access newsletter issues, images, and templates from the Conashaugh Courier's Google Drive folders. ",-1))]),_:1,__:[2]}),t(a,null,{default:s(()=>[e("div",_e,[t(c,{name:"dashboard",class:"q-mr-sm"}),l[3]||(l[3]=r(" Content Folders Status ",-1))]),e("div",pe,[(i(!0),x(N,null,V(k.value,(o,_)=>(i(),x("div",{key:_,class:"col-12 col-sm-6 col-md-3"},[t(f,{flat:"",bordered:"",class:ne(o.accessible?"bg-green-1":"bg-red-1")},{default:s(()=>[t(a,{class:"text-center"},{default:s(()=>[t(c,{name:o.accessible?"check_circle":"error",color:o.accessible?"green":"red",size:"2rem",class:"q-mb-sm"},null,8,["name","color"]),e("div",ve,d(_),1),e("div",he,d(o.accessible?"Available":"Private"),1),e("div",be,d(o.fileCount||0)+" files ",1)]),_:2},1024),o.accessible?(i(),p(se,{key:0,align:"center"},{default:s(()=>[t(v,{size:"sm",color:"primary",label:"Browse",onClick:Ie=>R(_,o.folderId),loading:F.value===o.folderId},null,8,["onClick","loading"])]),_:2},1024)):q("",!0)]),_:2},1032,["class"])]))),128))])]),_:1}),t(a,null,{default:s(()=>[e("div",xe,[t(v,{color:"primary",label:"Refresh All Content",onClick:O,loading:y.value,icon:"refresh",size:"md"},null,8,["loading"]),t(v,{color:"secondary",label:"Test Configuration",onClick:E,loading:y.value,icon:"settings",outline:""},null,8,["loading"])])]),_:1}),b.value?(i(),p(a,{key:0},{default:s(()=>[t(L,{class:"bg-negative text-white",rounded:""},{avatar:s(()=>[t(c,{name:"error"})]),default:s(()=>[l[4]||(l[4]=e("div",{class:"text-subtitle2"},"Error",-1)),r(" "+d(b.value),1)]),_:1,__:[4]})]),_:1})):q("",!0),C.value?(i(),p(a,{key:1},{default:s(()=>[t(L,{class:"bg-positive text-white",rounded:""},{avatar:s(()=>[t(c,{name:"check_circle"})]),default:s(()=>[r(" "+d(C.value),1)]),_:1})]),_:1})):q("",!0)]),_:1}),t(te,{modelValue:g.value,"onUpdate:modelValue":l[0]||(l[0]=o=>g.value=o),maximized:""},{default:s(()=>[t(f,null,{default:s(()=>[t(a,{class:"row items-center q-pb-none"},{default:s(()=>[e("div",ye,d(M.value?.name)+" Contents",1),t(oe),ee(t(v,{icon:"close",flat:"",round:"",dense:""},null,512),[[ue]])]),_:1}),t(a,null,{default:s(()=>[D.value.length===0?(i(),x("div",Ce,[t(c,{name:"folder_open",size:"4rem",class:"q-mb-md"}),l[5]||(l[5]=e("div",{class:"text-h6"},"No files found",-1)),l[6]||(l[6]=e("div",{class:"text-body2"},"This folder appears to be empty or private.",-1))])):(i(),x("div",ke,[e("div",we," Found "+d(D.value.length)+" files in this folder ",1),t(ae,{bordered:"",separator:""},{default:s(()=>[(i(!0),x(N,null,V(D.value,o=>(i(),p(re,{key:o.id,clickable:"",onClick:_=>B(o)},{default:s(()=>[t($,{avatar:""},{default:s(()=>[t(le,{icon:U(o.mimeType),color:j(o.mimeType),"text-color":"white"},null,8,["icon","color"])]),_:2},1024),t($,null,{default:s(()=>[t(A,null,{default:s(()=>[r(d(o.name),1)]),_:2},1024),t(A,{caption:""},{default:s(()=>[r(d(P(o.mimeType)),1)]),_:2},1024),t(A,{caption:""},{default:s(()=>[r(" Modified: "+d(I(o.modifiedTime)),1)]),_:2},1024)]),_:2},1024),t($,{side:""},{default:s(()=>[e("div",qe,[o.webViewLink?(i(),p(v,{key:0,size:"sm",color:"primary",icon:"open_in_new",label:"View",onClick:G(_=>B(o),["stop"])},null,8,["onClick"])):q("",!0),t(v,{size:"sm",color:"secondary",icon:"info",onClick:G(_=>T(o),["stop"])},null,8,["onClick"])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]))]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(f,{class:"q-mt-lg"},{default:s(()=>[t(a,null,{default:s(()=>[e("div",Fe,[t(c,{name:"info",class:"q-mr-sm"}),l[7]||(l[7]=r(" How This Works ",-1))]),t(z,{icon:"security",label:"No Authentication Required","header-class":"text-primary"},{default:s(()=>[t(f,null,{default:s(()=>[t(a,null,{default:s(()=>l[8]||(l[8]=[e("p",null,[r(" This system uses "),e("strong",null,"public folder access"),r(" instead of OAuth authentication. Users don't need to sign in or grant permissions because we're accessing publicly shared Google Drive folders directly. ")],-1),e("ul",null,[e("li",null,'✅ No "sign in with Google" popups'),e("li",null,"✅ No permission requests"),e("li",null,"✅ Works for all users immediately"),e("li",null,"✅ Fast and reliable")],-1)])),_:1,__:[8]})]),_:1})]),_:1}),t(z,{icon:"api",label:"Direct API Access","header-class":"text-primary"},{default:s(()=>[t(f,null,{default:s(()=>[t(a,null,{default:s(()=>l[9]||(l[9]=[e("p",null," The system uses the Google Drive API v3 with just an API key to access publicly shared folders. This approach is: ",-1),e("ul",null,[e("li",null,[e("strong",null,"Simple:"),r(" Only requires an API key, no OAuth setup")]),e("li",null,[e("strong",null,"Fast:"),r(" Direct HTTP requests, no authentication overhead")]),e("li",null,[e("strong",null,"Reliable:"),r(" No token expiration or refresh issues")]),e("li",null,[e("strong",null,"Secure:"),r(" Only accesses explicitly shared content")])],-1)])),_:1,__:[9]})]),_:1})]),_:1}),t(z,{icon:"folder",label:"Content Organization","header-class":"text-primary"},{default:s(()=>[t(f,null,{default:s(()=>[t(a,null,{default:s(()=>l[10]||(l[10]=[e("p",null,"Content is organized into dedicated folders:",-1),e("ul",null,[e("li",null,[e("strong",null,"Issues Folder:"),r(" Newsletter PDFs and archives")]),e("li",null,[e("strong",null,"Images Folder:"),r(" Photos, graphics, and media")]),e("li",null,[e("strong",null,"Templates Folder:"),r(" Design templates and layouts")]),e("li",null,[e("strong",null,"Content Folder:"),r(" General articles and documents")])],-1),e("p",{class:"q-mt-md"}," Each folder can be managed independently, with different access levels and sharing settings as needed. ",-1)])),_:1,__:[10]})]),_:1})]),_:1})]),_:1})]),_:1})])])]),_:1}))}}),Ge=ce(De,[["__scopeId","data-v-0ab7489c"]]);export{Ge as default};
