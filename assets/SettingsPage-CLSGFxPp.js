import{v as B,r as F,x as L,B as s,G as o,C as l,E as U,M as O,N as y,a5 as c,ac as f,H as r,I as i,K as z,J as j,a8 as w,b5 as G,aw as g,F as E,a3 as $,y as T,D as Z,a4 as J}from"./index-DsgKP-0L.js";import{Q as P}from"./QChip-D7qQyMGX.js";import{Q as b}from"./QExpansionItem-DYEmGD1h.js";import{Q as K}from"./QSlider-k3Q8IbPl.js";import{Q as H}from"./QPage-yyDmDMQV.js";import{u as W}from"./useTheme-uOEXbz7o.js";import{u as Y}from"./useUserSettings-dZZXJFiW.js";import{u as X}from"./useLocale-BL0RIngo.js";import{T as p}from"./translation-keys-CcbP-t_8.js";import{u as ee}from"./vue-i18n.runtime-Cab97c2l.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QItem-C7ywof8k.js";import"./QSlideTransition-B_DSIDKX.js";import"./TouchPan-BcR6yoIg.js";import"./touch-BjYP5sR0.js";import"./format-COv4QSw0.js";import"./locale-detector-CeOA0KHi.js";const oe={class:"q-pa-md"},le={class:"row justify-center"},ie={class:"col-12 col-md-10 col-lg-8"},se={class:"text-h4 q-mb-md"},ae={class:"text-h6 q-mb-md"},ne={class:"row items-center q-mb-md"},de={class:"col-12 col-md-6"},me={class:"text-body1 q-mb-sm"},ue={class:"row items-center"},re={class:"q-mr-xs"},pe={class:"text-caption text-grey-6"},ge={class:"col-12 col-md-6 q-mt-md q-mt-md-none"},ve={class:"text-body1 q-mb-sm"},ce={class:"row q-gutter-sm"},fe={class:"text-body2 text-grey-6"},ye={class:"text-body2 text-grey-6"},be={class:"column"},Se={class:"column"},xe={class:"column"},Ee={class:"text-caption text-grey-6"},Te={class:"row"},_e={key:0,class:"text-center q-mt-md"},Ne=B({__name:"SettingsPage",setup(qe){const a=Y(),{isDarkMode:S,currentTheme:A,setTheme:I}=W(),{currentLocale:V,currentLocaleInfo:_,locales:C,switchLocale:k}=X(),m=$(),{t:d}=ee(),u=F({language:!0,theme:!0,notifications:!1,display:!1,pdf:!1});async function Q(n){k(n),await a.setLanguage(n),m.notify({message:d(p.SETTINGS_PAGE.LANGUAGE_SETTINGS),type:"positive",position:"top",timeout:2e3})}async function D(n){await I(n),m.notify({message:d("settingsPage.themeSettings"),type:"positive",position:"top",timeout:2e3})}async function x(n,e){await a.updateNotificationSettings({[n]:e}),m.notify({message:d("settingsPage.notificationSettings"),type:"positive",position:"top",timeout:2e3})}async function N(n,e){await a.updateDisplaySettings({[n]:e}),m.notify({message:d("settingsPage.displaySettings"),type:"positive",position:"top",timeout:2e3})}async function q(n,e){e!==null&&(await a.updatePdfSettings({[n]:e}),m.notify({message:d("settingsPage.pdfSettings"),type:"positive",position:"top",timeout:2e3}))}function R(){m.dialog({title:d(p.SETTINGS_PAGE.RESET_CONFIRMATION),message:d(p.SETTINGS_PAGE.RESET_WARNING),cancel:!0,persistent:!0}).onOk(()=>{a.resetSettings().then(()=>{m.notify({message:d("settingsPage.resetAll"),type:"positive",position:"top",timeout:3e3})})})}async function h(){try{const n=await a.exportSettings(),e=new Blob([n],{type:"application/json"}),t=URL.createObjectURL(e),v=document.createElement("a");v.href=t,v.download="clca-courier-settings.json",v.click(),URL.revokeObjectURL(t),m.notify({message:"Settings exported successfully",type:"positive",position:"top",timeout:2e3})}catch{m.notify({message:"Failed to export settings",type:"negative",position:"top",timeout:2e3})}}function M(){const n=document.createElement("input");n.type="file",n.accept=".json",n.onchange=async e=>{const t=e.target.files?.[0];if(t)try{const v=await t.text();await a.importSettings(v),m.notify({message:"Settings imported successfully",type:"positive",position:"top",timeout:2e3})}catch{m.notify({message:"Failed to import settings - invalid format",type:"negative",position:"top",timeout:2e3})}},n.click()}return(n,e)=>(T(),L(H,{padding:""},{default:s(()=>[o("div",oe,[o("div",le,[o("div",ie,[o("div",se,[l(Z,{name:"mdi-cog",class:"q-mr-sm"}),e[15]||(e[15]=y(" Settings ",-1))]),l(b,{modelValue:u.value.language,"onUpdate:modelValue":e[0]||(e[0]=t=>u.value.language=t),icon:"mdi-translate",label:i(d)(i(p).SETTINGS_PAGE.LANGUAGE_SETTINGS),"default-opened":"",class:"q-mb-md"},{default:s(()=>[l(c,null,{default:s(()=>[l(f,null,{default:s(()=>[o("div",ae,r(i(d)(i(p).SETTINGS_PAGE.SELECT_LANGUAGE)),1),o("div",ne,[o("div",de,[o("div",me,r(i(d)(i(p).SETTINGS_PAGE.CURRENT_LANGUAGE))+":",1),o("div",ue,[l(P,{color:"primary","text-color":"white",size:"lg",class:"q-mr-md"},{default:s(()=>[o("span",re,r(i(_).flag),1),y(" "+r(i(_).nativeName),1)]),_:1}),o("div",pe,r(i(_).displayName),1)])]),e[16]||(e[16]=y()),o("div",ge,[o("div",ve,r(i(d)(i(p).SETTINGS_PAGE.SELECT_LANGUAGE))+":",1),o("div",ce,[(T(!0),U(j,null,z(i(C),t=>(T(),L(E,{key:t.value,label:`${t.flag} ${t.nativeLabel}`,color:i(V)===t.value?"primary":"grey-6",flat:i(V)!==t.value,size:"md","aria-label":`${i(d)(i(p).SETTINGS.LANGUAGE)}: ${t.label}`,onClick:v=>Q(t.value),class:"language-option-button"},null,8,["label","color","flat","aria-label","onClick"]))),128))])])]),l(w,{class:"q-my-md"}),o("div",fe,r(i(d)(i(p).SETTINGS_PAGE.LANGUAGE_DESCRIPTION)),1)]),_:1})]),_:1})]),_:1},8,["modelValue","label"]),l(b,{modelValue:u.value.theme,"onUpdate:modelValue":e[1]||(e[1]=t=>u.value.theme=t),icon:"mdi-palette",label:"Theme & Appearance","default-opened":"",class:"q-mb-md"},{default:s(()=>[l(c,null,{default:s(()=>[l(f,null,{default:s(()=>[e[18]||(e[18]=o("div",{class:"text-h6 q-mb-md"},"Theme Selection",-1)),l(G,{"model-value":i(A),"onUpdate:modelValue":D,options:[{label:"Light Mode",value:"light",icon:"mdi-brightness-7"},{label:"Dark Mode",value:"dark",icon:"mdi-brightness-4"},{label:"Auto (System)",value:"auto",icon:"mdi-brightness-auto"}],color:"primary",type:"radio"},null,8,["model-value"]),l(w,{class:"q-my-md"}),o("div",ye,[e[17]||(e[17]=y(" Current mode: ",-1)),o("strong",null,r(i(S)?"Dark":"Light"),1),l(P,{color:i(S)?"deep-purple":"amber",icon:i(S)?"mdi-brightness-4":"mdi-brightness-7",size:"sm",class:"q-ml-sm"},{default:s(()=>[y(r(i(A)==="auto"?"Auto":i(S)?"Dark":"Light"),1)]),_:1},8,["color","icon"])])]),_:1,__:[18]})]),_:1})]),_:1},8,["modelValue"]),l(b,{modelValue:u.value.notifications,"onUpdate:modelValue":e[6]||(e[6]=t=>u.value.notifications=t),icon:"mdi-bell",label:"Notifications",class:"q-mb-md"},{default:s(()=>[l(c,null,{default:s(()=>[l(f,null,{default:s(()=>[e[19]||(e[19]=o("div",{class:"text-h6 q-mb-md"},"Notification Preferences",-1)),o("div",be,[l(g,{"model-value":i(a).notificationSettings.value.browser,"onUpdate:modelValue":e[2]||(e[2]=t=>x("browser",t)),label:"Browser Notifications",color:"primary"},null,8,["model-value"]),l(g,{"model-value":i(a).notificationSettings.value.email,"onUpdate:modelValue":e[3]||(e[3]=t=>x("email",t)),label:"Email Notifications",color:"primary"},null,8,["model-value"]),l(g,{"model-value":i(a).notificationSettings.value.issues,"onUpdate:modelValue":e[4]||(e[4]=t=>x("issues",t)),label:"New Issue Alerts",color:"primary"},null,8,["model-value"]),l(g,{"model-value":i(a).notificationSettings.value.events,"onUpdate:modelValue":e[5]||(e[5]=t=>x("events",t)),label:"Event Reminders",color:"primary"},null,8,["model-value"])])]),_:1,__:[19]})]),_:1})]),_:1},8,["modelValue"]),l(b,{modelValue:u.value.display,"onUpdate:modelValue":e[10]||(e[10]=t=>u.value.display=t),icon:"mdi-monitor",label:"Display & Behavior",class:"q-mb-md"},{default:s(()=>[l(c,null,{default:s(()=>[l(f,null,{default:s(()=>[e[23]||(e[23]=o("div",{class:"text-h6 q-mb-md"},"Display Options",-1)),o("div",Se,[l(g,{"model-value":i(a).displaySettings.value.compactMode,"onUpdate:modelValue":e[7]||(e[7]=t=>N("compactMode",t)),label:"Compact Mode",color:"primary"},null,8,["model-value"]),e[20]||(e[20]=o("div",{class:"text-caption text-grey-6 q-ml-md"}," Reduces spacing and shows more content on screen ",-1)),l(g,{"model-value":i(a).displaySettings.value.animationsEnabled,"onUpdate:modelValue":e[8]||(e[8]=t=>N("animationsEnabled",t)),label:"Enable Animations",color:"primary"},null,8,["model-value"]),e[21]||(e[21]=o("div",{class:"text-caption text-grey-6 q-ml-md"}," Turn off to improve performance on slower devices ",-1)),l(g,{"model-value":i(a).displaySettings.value.autoplayVideos,"onUpdate:modelValue":e[9]||(e[9]=t=>N("autoplayVideos",t)),label:"Autoplay Videos",color:"primary"},null,8,["model-value"]),e[22]||(e[22]=o("div",{class:"text-caption text-grey-6 q-ml-md"}," Automatically play videos when they come into view ",-1))])]),_:1,__:[23]})]),_:1})]),_:1},8,["modelValue"]),l(b,{modelValue:u.value.pdf,"onUpdate:modelValue":e[14]||(e[14]=t=>u.value.pdf=t),icon:"mdi-file-pdf-box",label:"PDF Viewer",class:"q-mb-md"},{default:s(()=>[l(c,null,{default:s(()=>[l(f,null,{default:s(()=>[e[27]||(e[27]=o("div",{class:"text-h6 q-mb-md"},"PDF Viewer Preferences",-1)),o("div",xe,[o("div",null,[e[24]||(e[24]=o("div",{class:"text-subtitle2 q-mb-sm"},"Default Zoom Level",-1)),l(K,{"model-value":i(a).pdfSettings.value.defaultZoom,"onUpdate:modelValue":e[11]||(e[11]=t=>q("defaultZoom",t)),min:.5,max:3,step:.1,label:"",color:"primary"},null,8,["model-value"]),o("div",Ee," Current: "+r((i(a).pdfSettings.value.defaultZoom*100).toFixed(0))+"% ",1)]),o("div",null,[e[25]||(e[25]=o("div",{class:"text-subtitle2 q-mb-sm"},"Page Layout",-1)),l(G,{"model-value":i(a).pdfSettings.value.pageLayout,"onUpdate:modelValue":e[12]||(e[12]=t=>q("pageLayout",t)),options:[{label:"Single Page",value:"single"},{label:"Facing Pages",value:"facing"},{label:"Cover Page",value:"cover"}],color:"primary",type:"radio",inline:""},null,8,["model-value"])]),o("div",null,[e[26]||(e[26]=o("div",{class:"text-subtitle2 q-mb-sm"},"Thumbnail Size",-1)),l(G,{"model-value":i(a).pdfSettings.value.thumbnailSize,"onUpdate:modelValue":e[13]||(e[13]=t=>q("thumbnailSize",t)),options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}],color:"primary",type:"radio",inline:""},null,8,["model-value"])])])]),_:1,__:[27]})]),_:1})]),_:1},8,["modelValue"]),l(c,{class:"q-mt-md"},{default:s(()=>[l(f,null,{default:s(()=>[e[28]||(e[28]=o("div",{class:"text-h6 q-mb-md"},"Settings Management",-1)),o("div",Te,[l(E,{onClick:h,icon:"mdi-export",label:"Export Settings",color:"primary",outline:""}),l(E,{onClick:M,icon:"mdi-import",label:"Import Settings",color:"primary",outline:""}),l(E,{onClick:R,icon:"mdi-restore",label:"Reset to Defaults",color:"negative",outline:""})]),e[29]||(e[29]=o("div",{class:"text-body2 text-grey-6 q-mt-md"}," Export your settings to back them up or import settings from a backup file. Settings are automatically saved to your device. ",-1))]),_:1,__:[28,29]})]),_:1}),i(a).isSettingsLoading.value?(T(),U("div",_e,[l(J,{color:"primary",size:"2em"}),e[30]||(e[30]=o("div",{class:"text-body2 q-mt-sm"},"Loading settings...",-1))])):O("",!0)])])])]),_:1}))}}),Oe=te(Ne,[["__scopeId","data-v-80d01bb5"]]);export{Oe as default};
