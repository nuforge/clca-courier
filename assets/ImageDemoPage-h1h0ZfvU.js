import{d as R,r as y,c as B,o as H,I as U,M as o,a5 as a,f as t,a7 as h,Q as w,R as m,aa as d,a6 as _,a3 as u,a4 as b,N as P,P as T,a2 as g,J as v}from"./index-BmuMeY4A.js";import{Q as F,a as O}from"./QSlider-FkEvC67z.js";import{u as j,Q,H as N}from"./HeroSection-DL6s1BSq.js";import{Q as S,a as k,b as p}from"./QItem-DjifjH_H.js";import{Q as W}from"./QList-CH4WFfLQ.js";import{Q as G}from"./QPage-IdDAhR7R.js";import{e as L}from"./external-image-service-Ca-YEMw0.js";import"./google-drive-browser-service-DKmnyU2S.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TouchPan-WeYR7WaG.js";import"./selection-h4TAghRQ.js";import"./format-BvkBI9bc.js";function A(x){if(x===0)return"0 Bytes";const n=1024,r=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(x)/Math.log(n));return parseFloat((x/Math.pow(n,l)).toFixed(2))+" "+r[l]}const J={class:"q-pa-md"},K={class:"row justify-center"},Y={class:"col-12 col-md-10 col-lg-8"},X={class:"row q-gutter-sm q-mb-md"},Z={class:"row q-gutter-md"},ee={class:"col"},te={class:"col"},ae={class:"col"},oe={class:"text-caption text-center"},le={key:0,class:"text-center q-pa-lg"},se={class:"q-mt-md"},ie={key:1,class:"text-center q-pa-lg"},ne={class:"text-caption"},re={key:2,class:"text-center"},de=["src"],me={class:"q-mt-md"},ce={key:3,class:"text-center q-pa-lg text-grey-5"},ue={class:"row q-gutter-md"},ge={class:"col-auto"},ve={class:"col"},pe={class:"q-mt-md"},fe={class:"q-mt-md",style:{"border-radius":"8px",overflow:"hidden"}},I="https://picsum.photos/800/600?random=2",he=50*1024*1024,_e=R({__name:"ImageDemoPage",setup(x){const n=y(""),r=y({maxWidth:800,maxHeight:600,quality:.9}),l=j(n,{lazy:!0,...r.value}),c=y({count:0,totalSize:0,oldestEntry:void 0}),C=y(!1),V=[{label:"Learn More",icon:"mdi-information",color:"primary",onClick:()=>console.log("Learn more clicked")},{label:"Contact",icon:"mdi-phone",color:"secondary",outline:!0,onClick:()=>console.log("Contact clicked")}],z=B(()=>Math.min(100,c.value.totalSize/he*100));async function D(){n.value&&await l.load()}async function E(){if(l.imageUrl.value)try{const e=await(await fetch(l.imageUrl.value)).blob(),s=URL.createObjectURL(e),f=document.createElement("a");f.href=s,f.download=`cached-image-${Date.now()}.jpg`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(s)}catch(i){console.error("Failed to download image:",i)}}async function q(){C.value=!0;try{const i=await L.getCacheStats();c.value={count:i.count,totalSize:i.totalSize,oldestEntry:i.oldestEntry}}catch(i){console.error("Failed to get cache stats:",i)}finally{C.value=!1}}async function M(){try{await L.clearCache(),await q()}catch(i){console.error("Failed to clear cache:",i)}}return H(()=>{q(),n.value=I}),(i,e)=>(v(),U(G,{padding:""},{default:o(()=>[a("div",J,[a("div",K,[a("div",Y,[e[16]||(e[16]=a("div",{class:"text-h4 text-center q-mb-lg"},"External Image Demo",-1)),e[17]||(e[17]=a("div",{class:"text-body1 text-center q-mb-xl text-grey-7"}," This page demonstrates the external image caching system for CORS-enabled external hosting services. ",-1)),t(_,{class:"q-mb-lg"},{default:o(()=>[t(h,null,{default:o(()=>[e[7]||(e[7]=a("div",{class:"text-h6 q-mb-md"},"Test External Image URL",-1)),t(w,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),label:"Image URL (Direct URL, Dropbox, etc.)",placeholder:"https://example.com/image.jpg",outlined:"",class:"q-mb-md"},{append:o(()=>[t(m,{icon:"mdi-refresh",flat:"",round:"",onClick:D,loading:d(l).isLoading.value},null,8,["loading"])]),_:1},8,["modelValue"]),a("div",X,[t(m,{size:"sm",outline:"",label:"Your Google Drive Image",onClick:e[1]||(e[1]=s=>n.value=I)}),t(m,{size:"sm",outline:"",label:"Random Placeholder",onClick:e[2]||(e[2]=s=>n.value="https://picsum.photos/800/600")})]),t(F,{icon:"mdi-cog",label:"Image Options",class:"q-mb-md"},{default:o(()=>[t(_,null,{default:o(()=>[t(h,null,{default:o(()=>[a("div",Z,[a("div",ee,[t(w,{modelValue:r.value.maxWidth,"onUpdate:modelValue":e[3]||(e[3]=s=>r.value.maxWidth=s),modelModifiers:{number:!0},type:"number",label:"Max Width",outlined:""},null,8,["modelValue"])]),a("div",te,[t(w,{modelValue:r.value.maxHeight,"onUpdate:modelValue":e[4]||(e[4]=s=>r.value.maxHeight=s),modelModifiers:{number:!0},type:"number",label:"Max Height",outlined:""},null,8,["modelValue"])]),a("div",ae,[t(O,{modelValue:r.value.quality,"onUpdate:modelValue":e[5]||(e[5]=s=>r.value.quality=s),min:.1,max:1,step:.1,label:"","label-always":"",color:"primary"},null,8,["modelValue"]),a("div",oe,"Quality: "+u(r.value.quality),1)])])]),_:1})]),_:1})]),_:1})]),_:1,__:[7]})]),_:1}),t(_,{class:"q-mb-lg"},{default:o(()=>[t(h,null,{default:o(()=>[e[9]||(e[9]=a("div",{class:"text-h6 q-mb-md"},"Test Result",-1)),d(l).isLoading.value?(v(),b("div",le,[t(Q,{value:d(l).loadProgress.value,size:"50px",color:"primary","show-value":""},null,8,["value"]),a("div",se,"Loading image... "+u(Math.round(d(l).loadProgress.value))+"%",1)])):d(l).hasError.value?(v(),b("div",ie,[t(P,{name:"mdi-alert-circle",size:"3rem",color:"negative"}),e[8]||(e[8]=a("div",{class:"q-mt-md text-negative"},"Failed to load image",-1)),a("div",ne,u(d(l).error.value?.message),1),t(m,{label:"Retry",icon:"mdi-refresh",color:"primary",outline:"",class:"q-mt-md",onClick:e[6]||(e[6]=s=>d(l).reload())})])):d(l).imageUrl.value?(v(),b("div",re,[a("img",{src:d(l).imageUrl.value,alt:"Test Image",style:{"max-width":"100%",height:"auto","border-radius":"8px","box-shadow":"0 4px 12px rgba(0,0,0,0.1)"}},null,8,de),a("div",me,[t(m,{icon:"mdi-download",label:"Download Cached Image",color:"primary",outline:"",onClick:E})])])):(v(),b("div",ce," Enter an image URL above to test the caching system "))]),_:1,__:[9]})]),_:1}),t(_,{class:"q-mb-lg"},{default:o(()=>[t(h,null,{default:o(()=>[e[14]||(e[14]=a("div",{class:"text-h6 q-mb-md"},"Cache Statistics",-1)),a("div",ue,[a("div",ge,[t(Q,{value:z.value,size:"80px",thickness:.2,color:"primary","track-color":"grey-3","show-value":""},null,8,["value"]),e[10]||(e[10]=a("div",{class:"text-center text-caption"},"Storage Used",-1))]),a("div",ve,[t(W,null,{default:o(()=>[t(S,null,{default:o(()=>[t(k,null,{default:o(()=>[t(p,null,{default:o(()=>e[11]||(e[11]=[g("Cached Images",-1)])),_:1,__:[11]}),t(p,{caption:""},{default:o(()=>[g(u(c.value.count)+" images",1)]),_:1})]),_:1})]),_:1}),t(S,null,{default:o(()=>[t(k,null,{default:o(()=>[t(p,null,{default:o(()=>e[12]||(e[12]=[g("Total Cache Size",-1)])),_:1,__:[12]}),t(p,{caption:""},{default:o(()=>[g(u(d(A)(c.value.totalSize)),1)]),_:1})]),_:1})]),_:1}),c.value.oldestEntry?(v(),U(S,{key:0},{default:o(()=>[t(k,null,{default:o(()=>[t(p,null,{default:o(()=>e[13]||(e[13]=[g("Oldest Entry",-1)])),_:1,__:[13]}),t(p,{caption:""},{default:o(()=>[g(u(new Date(c.value.oldestEntry).toLocaleString()),1)]),_:1})]),_:1})]),_:1})):T("",!0)]),_:1})])]),a("div",pe,[t(m,{icon:"mdi-refresh",label:"Refresh Stats",color:"primary",outline:"",onClick:q,loading:C.value},null,8,["loading"]),t(m,{icon:"mdi-delete",label:"Clear Cache",color:"negative",outline:"",class:"q-ml-md",onClick:M})])]),_:1,__:[14]})]),_:1}),t(_,null,{default:o(()=>[t(h,null,{default:o(()=>e[15]||(e[15]=[a("div",{class:"text-h6 q-mb-md"},"Hero Component Demo",-1),a("div",{class:"text-body2 q-mb-md text-grey-7"}," This demonstrates the HeroSection component using your Google Drive image: ",-1)])),_:1,__:[15]})]),_:1}),a("div",fe,[t(N,{"background-image":I,title:"Demo Hero Section",subtitle:"Using Google Drive image with caching",height:"400px",variant:"centered",overlay:!0,"overlay-color":"rgba(0, 100, 150, 0.3)",actions:V,"image-options":{maxWidth:1920,maxHeight:1080,quality:.8}})])])])])]),_:1}))}}),Ve=$(_e,[["__scopeId","data-v-0ac81a61"]]);export{Ve as default};
