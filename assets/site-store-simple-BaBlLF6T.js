import{ax as q,r as i,f as o,q as x,l as t}from"./index-Cz4yoHZ0.js";import{u as U}from"./useUserSettings-_6uST-JF.js";import{firestoreService as P}from"./firebase-firestore.service-B9vyCLeN.js";const $=[{id:"event-001",title:"Community Board Meeting",description:"Monthly community board meeting to discuss ongoing projects, community concerns, and upcoming initiatives. All residents welcome.",date:"2025-08-15",time:"7:00 PM",location:"Community Center",organizer:"Community Board"},{id:"event-002",title:"Summer Concert: Pocono Folk Trio",description:"Enjoy an evening of traditional folk music with the talented Pocono Folk Trio. Bring your lawn chairs and blankets!",date:"2025-08-17",time:"7:00 PM",location:"Main Pavilion",organizer:"Recreation Committee"},{id:"event-003",title:"Lake Cleanup Day",description:"Annual volunteer lake cleanup day. Help keep our lakes beautiful! All supplies provided, lunch included for volunteers.",date:"2025-08-20",time:"9:00 AM",location:"Main Beach Area",organizer:"Environmental Committee"},{id:"event-004",title:"Summer Concert: Jazz on the Lake",description:"Contemporary jazz ensemble performing lakeside. Food trucks available starting at 6:00 PM.",date:"2025-08-24",time:"7:00 PM",location:"Main Pavilion",organizer:"Recreation Committee"},{id:"event-005",title:"Children's Fishing Derby",description:"Annual fishing contest for kids 12 and under. Prizes for biggest fish, most fish, and participation. All equipment provided.",date:"2025-08-27",time:"8:00 AM",location:"Lake 1 Fishing Pier",organizer:"Youth Committee"},{id:"event-006",title:"Summer Concert: Summer's End Band",description:"Close out our summer concert series with classic rock covers from Summer's End Band. Final concert of the season!",date:"2025-08-31",time:"7:00 PM",location:"Main Pavilion",organizer:"Recreation Committee"},{id:"event-007",title:"Labor Day Picnic",description:"Community-wide Labor Day celebration with games, food, and activities for the whole family. Potluck style - bring a dish to share!",date:"2025-09-01",time:"12:00 PM",location:"Community Park",organizer:"Social Committee"},{id:"event-008",title:"Fall Newsletter Submission Deadline",description:"Deadline for submitting articles, photos, and announcements for the fall issue of The Courier newsletter.",date:"2025-09-10",time:"11:59 PM",location:"Submit via email or community office",organizer:"Editorial Team"},{id:"event-009",title:"Community Yard Sale",description:"Annual community-wide yard sale. Reserve your spot early! Maps will be available at the entrance.",date:"2025-09-14",time:"8:00 AM - 3:00 PM",location:"Throughout Community",organizer:"Social Committee"},{id:"event-010",title:"Fall Foliage Photography Walk",description:"Guided photography walk to capture the beautiful fall colors around our lakes. All skill levels welcome, bring your camera or phone.",date:"2025-10-05",time:"10:00 AM",location:"Meet at Community Center",organizer:"Photography Club"}],G=450,H=3,J=29,O=12,W={households:G,lakes:H,yearsPublished:J,issuesPerYear:O},d=r=>new Promise(a=>setTimeout(a,r)),X=q("site",()=>{const r=U(),a=i(!1),m=i(!0),g=i([]),n=i([]),l=i([]),u=i([]),c=i({households:0,lakes:0,yearsPublished:0,issuesPerYear:0});let s=null;const h=o(()=>g.value),k=o(()=>r.isDarkMode.value),M=o(()=>c.value),S=o(()=>n.value.filter(e=>e.featured).slice(0,3)),D=o(()=>l.value.sort((e,f)=>new Date(f.datePosted).getTime()-new Date(e.datePosted).getTime()).slice(0,4)),A=o(()=>u.value.filter(e=>new Date(e.date)>=new Date).sort((e,f)=>new Date(e.date).getTime()-new Date(f.date).getTime()).slice(0,5)),z=o(()=>{const e=h.value;return e.length===0?null:e[0]});function F(){r.toggleDarkMode()}function E(){a.value=!a.value}function T(){a.value=!1}async function v(){m.value=!0;try{await Promise.all([p(),y(),w(),C(),L()])}catch(e){t.error("Error loading initial data:",e)}finally{m.value=!1}}function p(){g.value=[],t.debug("Archived issues loading skipped - PDF processing removed")}async function y(){try{await d(100),t.debug("Loading news items from Firebase..."),n.value=await P.getPublishedContentAsNewsItems(),t.success(`Loaded ${n.value.length} published news items from Firebase`),I()}catch(e){t.error("Error loading published news items from Firebase:",e),n.value=[]}}function I(){s&&s(),s=P.subscribeToPublishedContent(e=>{n.value=e,t.debug(`News items updated via subscription: ${e.length} items`)})}function b(){s&&(s(),s=null)}x(()=>{b()});async function w(){try{await d(100),t.debug("Classifieds loading disabled - using Firebase only"),l.value=[],t.success("Classifieds set to empty - Firebase-only mode")}catch(e){t.error("Error loading classifieds:",e),l.value=[]}}async function C(){try{await d(100),u.value=$}catch(e){t.error("Error loading events:",e),u.value=[]}}async function L(){try{await d(100),c.value=W}catch(e){t.error("Error loading stats:",e),c.value={households:0,lakes:0,yearsPublished:0,issuesPerYear:0}}}function N(){p()}async function B(){await y()}async function Y(){await w()}async function R(){await C()}async function j(){await v()}return{isMenuOpen:a,isLoading:m,archivedIssues:h,newsItems:n,classifieds:l,events:u,stats:c,featuredNews:S,recentClassifieds:D,upcomingEvents:A,latestIssue:z,isDarkMode:k,communityStats:M,toggleDarkMode:F,toggleMenu:E,closeMenu:T,loadInitialData:v,refreshArchivedIssues:N,refreshNewsItems:B,refreshClassifieds:Y,refreshEvents:R,refreshAll:j,cleanup:b,userSettings:r}});export{X as u};
