import{d as C,r as L,I as N,M as n,a5 as l,f as o,a4 as E,P as T,a2 as S,a6 as p,a7 as g,aA as x,aa as a,ab as B,a3 as V,aB as u,R as q,J as U,N as M,a8 as R}from"./index-BmuMeY4A.js";import{Q as F}from"./QChip-D6W_rGqX.js";import{Q as c,a as j}from"./QSlider-FkEvC67z.js";import{Q as I}from"./QPage-IdDAhR7R.js";import{u as z}from"./useTheme-Cxj-zGgR.js";import{u as O}from"./useUserSettings-C22snMFl.js";import{u as Z}from"./use-quasar-CUzlIfm4.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./QItem-DjifjH_H.js";import"./TouchPan-WeYR7WaG.js";import"./selection-h4TAghRQ.js";import"./format-BvkBI9bc.js";const J={class:"q-pa-md"},$={class:"row justify-center"},h={class:"col-12 col-md-10 col-lg-8"},G={class:"text-h4 q-mb-md"},H={class:"text-body2 text-grey-6"},K={class:"column q-gutter-md"},W={class:"column q-gutter-md"},X={class:"column q-gutter-md"},Y={class:"text-caption text-grey-6"},ee={class:"row q-gutter-md"},te={key:0,class:"text-center q-mt-md"},oe=C({__name:"AccountPage",setup(le){const i=O(),{isDarkMode:v,currentTheme:w,setTheme:k}=z(),d=Z(),m=L({theme:!0,notifications:!1,display:!1,pdf:!1});async function Q(s){await k(s),d.notify({message:`Theme changed to ${s}`,type:"positive",position:"top",timeout:2e3})}async function f(s,e){await i.updateNotificationSettings({[s]:e}),d.notify({message:"Notification settings updated",type:"positive",position:"top",timeout:2e3})}async function y(s,e){await i.updateDisplaySettings({[s]:e}),d.notify({message:"Display settings updated",type:"positive",position:"top",timeout:2e3})}async function b(s,e){e!==null&&(await i.updatePdfSettings({[s]:e}),d.notify({message:"PDF settings updated",type:"positive",position:"top",timeout:2e3}))}function D(){d.dialog({title:"Reset Settings",message:"Are you sure you want to reset all settings to defaults? This cannot be undone.",cancel:!0,persistent:!0}).onOk(()=>{i.resetSettings().then(()=>{d.notify({message:"All settings have been reset to defaults",type:"positive",position:"top",timeout:3e3})})})}async function P(){try{const s=await i.exportSettings(),e=new Blob([s],{type:"application/json"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="clca-courier-settings.json",r.click(),URL.revokeObjectURL(t),d.notify({message:"Settings exported successfully",type:"positive",position:"top",timeout:2e3})}catch{d.notify({message:"Failed to export settings",type:"negative",position:"top",timeout:2e3})}}function A(){const s=document.createElement("input");s.type="file",s.accept=".json",s.onchange=async e=>{const t=e.target.files?.[0];if(t)try{const r=await t.text();await i.importSettings(r),d.notify({message:"Settings imported successfully",type:"positive",position:"top",timeout:2e3})}catch{d.notify({message:"Failed to import settings - invalid format",type:"negative",position:"top",timeout:2e3})}},s.click()}return(s,e)=>(U(),N(I,{padding:""},{default:n(()=>[l("div",J,[l("div",$,[l("div",h,[l("div",G,[o(M,{name:"mdi-account-circle",class:"q-mr-sm"}),e[14]||(e[14]=S(" Account Settings ",-1))]),o(c,{modelValue:m.value.theme,"onUpdate:modelValue":e[0]||(e[0]=t=>m.value.theme=t),icon:"mdi-palette",label:"Theme & Appearance","default-opened":"",class:"q-mb-md"},{default:n(()=>[o(p,null,{default:n(()=>[o(g,null,{default:n(()=>[e[16]||(e[16]=l("div",{class:"text-h6 q-mb-md"},"Theme Selection",-1)),o(x,{"model-value":a(w),"onUpdate:modelValue":Q,options:[{label:"Light Mode",value:"light",icon:"mdi-brightness-7"},{label:"Dark Mode",value:"dark",icon:"mdi-brightness-4"},{label:"Auto (System)",value:"auto",icon:"mdi-brightness-auto"}],color:"primary",type:"radio"},null,8,["model-value"]),o(B,{class:"q-my-md"}),l("div",H,[e[15]||(e[15]=S(" Current mode: ",-1)),l("strong",null,V(a(v)?"Dark":"Light"),1),o(F,{color:a(v)?"deep-purple":"amber",icon:a(v)?"mdi-brightness-4":"mdi-brightness-7",size:"sm",class:"q-ml-sm"},{default:n(()=>[S(V(a(w)==="auto"?"Auto":a(v)?"Dark":"Light"),1)]),_:1},8,["color","icon"])])]),_:1,__:[16]})]),_:1})]),_:1},8,["modelValue"]),o(c,{modelValue:m.value.notifications,"onUpdate:modelValue":e[5]||(e[5]=t=>m.value.notifications=t),icon:"mdi-bell",label:"Notifications",class:"q-mb-md"},{default:n(()=>[o(p,null,{default:n(()=>[o(g,null,{default:n(()=>[e[17]||(e[17]=l("div",{class:"text-h6 q-mb-md"},"Notification Preferences",-1)),l("div",K,[o(u,{"model-value":a(i).notificationSettings.value.browser,"onUpdate:modelValue":e[1]||(e[1]=t=>f("browser",t)),label:"Browser Notifications",color:"primary"},null,8,["model-value"]),o(u,{"model-value":a(i).notificationSettings.value.email,"onUpdate:modelValue":e[2]||(e[2]=t=>f("email",t)),label:"Email Notifications",color:"primary"},null,8,["model-value"]),o(u,{"model-value":a(i).notificationSettings.value.issues,"onUpdate:modelValue":e[3]||(e[3]=t=>f("issues",t)),label:"New Issue Alerts",color:"primary"},null,8,["model-value"]),o(u,{"model-value":a(i).notificationSettings.value.events,"onUpdate:modelValue":e[4]||(e[4]=t=>f("events",t)),label:"Event Reminders",color:"primary"},null,8,["model-value"])])]),_:1,__:[17]})]),_:1})]),_:1},8,["modelValue"]),o(c,{modelValue:m.value.display,"onUpdate:modelValue":e[9]||(e[9]=t=>m.value.display=t),icon:"mdi-monitor",label:"Display & Behavior",class:"q-mb-md"},{default:n(()=>[o(p,null,{default:n(()=>[o(g,null,{default:n(()=>[e[21]||(e[21]=l("div",{class:"text-h6 q-mb-md"},"Display Options",-1)),l("div",W,[o(u,{"model-value":a(i).displaySettings.value.compactMode,"onUpdate:modelValue":e[6]||(e[6]=t=>y("compactMode",t)),label:"Compact Mode",color:"primary"},null,8,["model-value"]),e[18]||(e[18]=l("div",{class:"text-caption text-grey-6 q-ml-md"}," Reduces spacing and shows more content on screen ",-1)),o(u,{"model-value":a(i).displaySettings.value.animationsEnabled,"onUpdate:modelValue":e[7]||(e[7]=t=>y("animationsEnabled",t)),label:"Enable Animations",color:"primary"},null,8,["model-value"]),e[19]||(e[19]=l("div",{class:"text-caption text-grey-6 q-ml-md"}," Turn off to improve performance on slower devices ",-1)),o(u,{"model-value":a(i).displaySettings.value.autoplayVideos,"onUpdate:modelValue":e[8]||(e[8]=t=>y("autoplayVideos",t)),label:"Autoplay Videos",color:"primary"},null,8,["model-value"]),e[20]||(e[20]=l("div",{class:"text-caption text-grey-6 q-ml-md"}," Automatically play videos when they come into view ",-1))])]),_:1,__:[21]})]),_:1})]),_:1},8,["modelValue"]),o(c,{modelValue:m.value.pdf,"onUpdate:modelValue":e[13]||(e[13]=t=>m.value.pdf=t),icon:"mdi-file-pdf-box",label:"PDF Viewer",class:"q-mb-md"},{default:n(()=>[o(p,null,{default:n(()=>[o(g,null,{default:n(()=>[e[25]||(e[25]=l("div",{class:"text-h6 q-mb-md"},"PDF Viewer Preferences",-1)),l("div",X,[l("div",null,[e[22]||(e[22]=l("div",{class:"text-subtitle2 q-mb-sm"},"Default Zoom Level",-1)),o(j,{"model-value":a(i).pdfSettings.value.defaultZoom,"onUpdate:modelValue":e[10]||(e[10]=t=>b("defaultZoom",t)),min:.5,max:3,step:.1,label:"",color:"primary"},null,8,["model-value"]),l("div",Y," Current: "+V((a(i).pdfSettings.value.defaultZoom*100).toFixed(0))+"% ",1)]),l("div",null,[e[23]||(e[23]=l("div",{class:"text-subtitle2 q-mb-sm"},"Page Layout",-1)),o(x,{"model-value":a(i).pdfSettings.value.pageLayout,"onUpdate:modelValue":e[11]||(e[11]=t=>b("pageLayout",t)),options:[{label:"Single Page",value:"single"},{label:"Facing Pages",value:"facing"},{label:"Cover Page",value:"cover"}],color:"primary",type:"radio",inline:""},null,8,["model-value"])]),l("div",null,[e[24]||(e[24]=l("div",{class:"text-subtitle2 q-mb-sm"},"Thumbnail Size",-1)),o(x,{"model-value":a(i).pdfSettings.value.thumbnailSize,"onUpdate:modelValue":e[12]||(e[12]=t=>b("thumbnailSize",t)),options:[{label:"Small",value:"small"},{label:"Medium",value:"medium"},{label:"Large",value:"large"}],color:"primary",type:"radio",inline:""},null,8,["model-value"])])])]),_:1,__:[25]})]),_:1})]),_:1},8,["modelValue"]),o(p,{class:"q-mt-md"},{default:n(()=>[o(g,null,{default:n(()=>[e[26]||(e[26]=l("div",{class:"text-h6 q-mb-md"},"Settings Management",-1)),l("div",ee,[o(q,{onClick:P,icon:"mdi-export",label:"Export Settings",color:"primary",outline:""}),o(q,{onClick:A,icon:"mdi-import",label:"Import Settings",color:"primary",outline:""}),o(q,{onClick:D,icon:"mdi-restore",label:"Reset to Defaults",color:"negative",outline:""})]),e[27]||(e[27]=l("div",{class:"text-body2 text-grey-6 q-mt-md"}," Export your settings to back them up or import settings from a backup file. Settings are automatically saved to your device. ",-1))]),_:1,__:[26,27]})]),_:1}),a(i).isSettingsLoading.value?(U(),E("div",te,[o(R,{color:"primary",size:"2em"}),e[28]||(e[28]=l("div",{class:"text-body2 q-mt-sm"},"Loading settings...",-1))])):T("",!0)])])])]),_:1}))}}),ce=_(oe,[["__scopeId","data-v-1ba67800"]]);export{ce as default};
